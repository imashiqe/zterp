import{u as F,F as m,r as a,o as L,e as O,b as I,df as g,j as e,dg as R,I as A,B as T,dh as V,cj as N,di as U,L as y,bh as $,k as b,x as q,y as k}from"./index-16ff5701.js";import{P as v}from"./AdminLayout-ac80ae52.js";import{C as p,U as c,T as z}from"./TableComponent-f70e0475.js";import{E as D}from"./EditOutlined-f754bc7b.js";import{D as w}from"./DeleteOutlined-e1f8fe69.js";import{V as K}from"./ViewBtn-eedc84ae.js";import{C as _}from"./CreateDrawer-33537b52.js";import{A as G}from"./AddTermsAndConditions-427e3fbf.js";import"./Button-81cb4f36.js";import"./index-8b1cef28.js";import"./useForceUpdate-5b1eefe7.js";function H(){var f;const n=F(),[d]=m.useForm(),[x,o]=a.useState(),{TextArea:h}=A,{id:r}=L(),u=O(),[t,l]=a.useState(!1),{termsAndConditions:s,loading:Q}=I(i=>i.termsAndConditions),j=async i=>{await n(V(i))&&(n(N()),u(-1))},[S,C]=a.useState(""),E=i=>{i.preventDefault(),C(i.target.value)},P=i=>{i.key==="Enter"&&C(s+`
`)},Y=async i=>{await n(U({id:r,values:{title:i.title,subject:S}})),o(!1),n(g(r)),l(!1)},B=()=>{o(!1)},M=(f=s==null?void 0:s.subject)==null?void 0:f.replace(/\n/g,"<br/>");return a.useEffect(()=>{d.setFieldValue("subject",s==null?void 0:s.subject),d.setFieldValue("title",s==null?void 0:s.title)},[s]),a.useEffect(()=>{n(g(r))},[n,r]),e.jsxs(e.Fragment,{children:[!t&&e.jsx(p,{title:e.jsxs(e.Fragment,{children:[" ",s==null?void 0:s.title," "]}),extra:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{permission:"update-termsAndCondition",children:e.jsx(D,{onClick:()=>l(!0),className:"bg-gray-600 p-2 text-white rounded-md",style:{fontSize:"15px"}})}),e.jsx(c,{permission:"delete-termsAndCondition",children:e.jsx(w,{onClick:()=>j(r),className:"bg-red-600 p-[10px] text-white rounded-md"})})]}),children:e.jsx("div",{className:"p-4",dangerouslySetInnerHTML:{__html:M}})}),t&&e.jsx(p,{Card:!0,title:e.jsxs(e.Fragment,{children:["ID: ",r," "]}),extra:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{permission:"update-termsAndCondition",children:e.jsx(D,{onClick:()=>{n(R(s))},className:"bg-gray-600 p-2 text-white rounded-md",style:{fontSize:"15px"}})}),e.jsx(c,{permission:"delete-termsAndCondition",children:e.jsx(w,{onClick:()=>j(r),className:"bg-red-600 p-2 text-white rounded-md"})})]}),children:e.jsxs(m,{form:d,layout:"vertical",className:"sm:mx-10",onFinish:Y,onFinishFailed:B,autoComplete:"off",labelAlign:"left",children:[e.jsx(m.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please enter title!"}],children:e.jsx(A,{})}),e.jsx(m.Item,{style:{marginBottom:"10px"},label:"Terms And Conditions",name:"subject",rules:[{required:!0,message:"Please input Terms And Conditions!"}],children:e.jsx(h,{rows:5,onChange:E,onKeyPress:P})}),e.jsxs(m.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:[e.jsx(T,{loading:x,onClick:()=>o(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Terms And Conditions"}),e.jsx(T,{onClick:()=>l(!1),className:"ml-5",children:"Close"})]})]})})]})}function J(){const n=F(),{list:d,total:x,loading:o}=I(t=>t.termsAndConditions),[h,r]=a.useState({page:1,count:10,status:"true"}),u=[{id:1,title:"ID",dataIndex:"id",key:"id",render:t=>e.jsx(y,{to:`/admin/terms-and-condition/${t}`,children:t}),renderCsv:t=>t},{id:2,title:"Title",dataIndex:"title",key:"title",render:(t,{id:l})=>e.jsx(y,{to:`/admin/terms-and-condition/${l}`,children:t}),renderCsv:t=>t},{id:3,title:"Terms And Conditions",dataIndex:"subject",key:"subject",render:t=>$(t,40),renderCsv:t=>t},{id:4,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>b(t).format("YYYY-MM-DD"),renderCsv:t=>b(t).format("YYYY-MM-DD")},{id:5,title:"Action",key:"Action",render:({id:t})=>e.jsx(K,{path:`/admin/terms-and-condition/${t}`}),csvOff:!0}];return a.useEffect(()=>{n(N())},[n]),e.jsx(e.Fragment,{children:e.jsx(p,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Terms And Conditions",extra:e.jsx(_,{permission:"create-termsAndCondition",title:"Create Terms",width:35,children:e.jsx(G,{})}),children:e.jsx(c,{permission:"readAll-termsAndCondition",children:e.jsx(z,{total:x,columns:u,list:d,loading:o,setPageConfig:r,title:"Terms And Condition"})})})})}function le(){return e.jsxs(q,{children:[e.jsx(k,{path:"/terms-and-condition",element:e.jsx(v,{permission:"readAll-termsAndCondition",children:e.jsx(J,{})})}),e.jsx(k,{path:"/terms-and-condition/:id",element:e.jsx(v,{permission:"readSingle-termsAndCondition",children:e.jsx(H,{})})})]})}export{le as default};
