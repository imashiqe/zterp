import{r as c,Y as Q,_ as V,Q as rt,aA as D,T as xe,aY as nt,aH as it,a9 as ot,U as we,z as ee,X,aZ as ue,a_ as dt,u as M,F as w,j as e,I as R,B as ae,a$ as ct,k as K,o as _,b as C,b0 as Y,b1 as W,b2 as mt,b3 as xt,b4 as ye,b5 as be,b6 as ve,b7 as Ne,b8 as ut,b9 as pt,L as k,ba as ht,bb as gt,bc as G,bd as ft,be as Se,bf as Ce,bg as Pe,bh as jt,q as wt,bi as yt,C as Ie,bj as bt,bk as vt,bl as Nt,bm as St,bn as Ct,P as ke,bo as Pt,bp as It,bq as pe,x as kt,y as T}from"./index-16ff5701.js";import{l as Ot,C as U,U as B,T as Oe,a as $e,b as $t,P as Mt,c as Tt}from"./TableComponent-f70e0475.js";import{L as zt,R as At,o as Lt,q as Et,S as $,a as F,M as Me,b as Te,r as Rt}from"./Button-81cb4f36.js";import{B as te}from"./BigDrawer-5db64386.js";import{I as A}from"./index-6d01e873.js";import{T as ze}from"./index-1ab3c210.js";import{H as Dt,G as Ft}from"./barcodeGenerator-8021e62b.js";import{C as Ae,L as Le,M as Bt,a as Ut,P as z}from"./AdminLayout-ac80ae52.js";import{C as Ee}from"./CommonDelete-6a643bdc.js";import{C as le}from"./CreateDrawer-33537b52.js";import{g as Ht,M as Re}from"./index-2e4f1652.js";import{E as J}from"./EditOutlined-f754bc7b.js";import{A as De,C as Qt}from"./AddProduct-4dee3988.js";import{u as re}from"./useCurrency-ff395f2c.js";import{U as Fe}from"./index-0daf2765.js";import{U as Vt,f as he}from"./fileConfig-a4db431d.js";import{I as Be}from"./Image-3961944b.js";import{i as _t}from"./fade-f955b557.js";import{D as Yt}from"./DeleteOutlined-e1f8fe69.js";import{P as Ue,T as qt}from"./index-8b1cef28.js";import{V as He}from"./ViewBtn-eedc84ae.js";import{a as Gt}from"./index-bad6c49c.js";import{a as Z}from"./nFormetter-e5bcdc34.js";import{R as Zt}from"./ReportTable-1374d75d.js";import{i as Wt}from"./invoiceGenerator-91e8874d.js";import{U as Xt}from"./UploadMany-ab6f4635.js";import{R as Kt}from"./index-4f6b3efe.js";import{A as Jt}from"./addProductSubcategory-34015a86.js";import{A as es}from"./addProductBrand-7852dee3.js";import{A as ts}from"./AddPurchaseOrder-3a3b61c0.js";import"./useForceUpdate-5b1eefe7.js";import"./InfoCircleFilled-829db91a.js";import"./AddUoM-ec811117.js";import"./AddDiscount-f6dfe087.js";import"./dayjs.min-72f12467.js";import"./index-f03f7796.js";import"./addVatTax-d5f3f099.js";import"./jspdf.es.min-3ec80e90.js";import"./addProductCategory-004b5cd6.js";var ss={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const as=ss;var ls=function(a,t){return c.createElement(Q,V({},a,{ref:t,icon:as}))};const rs=c.forwardRef(ls);var ns={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const is=ns;var os=function(a,t){return c.createElement(Q,V({},a,{ref:t,icon:is}))};const ds=c.forwardRef(os);var cs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const ms=cs;var xs=function(a,t){return c.createElement(Q,V({},a,{ref:t,icon:ms}))};const ge=c.forwardRef(xs);var us={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const ps=us;var hs=function(a,t){return c.createElement(Q,V({},a,{ref:t,icon:ps}))};const gs=c.forwardRef(hs);var fs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const js=fs;var ws=function(a,t){return c.createElement(Q,V({},a,{ref:t,icon:js}))};const ys=c.forwardRef(ws),se=s=>({position:s||"absolute",inset:0}),bs=s=>{const{iconCls:a,motionDurationSlow:t,paddingXXS:n,marginXXS:i,prefixCls:o,colorTextLightSolid:h}=s;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:h,background:new D("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${t}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},it),{padding:`0 ${n}px`,[a]:{marginInlineEnd:i,svg:{verticalAlign:"baseline"}}})}},vs=s=>{const{previewCls:a,modalMaskBg:t,paddingSM:n,marginXL:i,margin:o,paddingLG:h,previewOperationColorDisabled:p,previewOperationHoverColor:l,motionDurationSlow:u,iconCls:m,colorTextLightSolid:j}=s,g=new D(t).setAlpha(.1),v=g.clone().setAlpha(.2);return{[`${a}-footer`]:{position:"fixed",bottom:i,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:s.previewOperationColor},[`${a}-progress`]:{marginBottom:o},[`${a}-close`]:{position:"fixed",top:i,right:{_skip_check_:!0,value:i},display:"flex",color:j,backgroundColor:g.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:v.toRgbString()},[`& > ${m}`]:{fontSize:s.previewOperationSize}},[`${a}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${h}px`,backgroundColor:g.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${a}-operations-operation-disabled):hover > ${m}`]:{color:l},"&-disabled":{color:p,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:s.previewOperationSize}}}}},Ns=s=>{const{modalMaskBg:a,iconCls:t,previewOperationColorDisabled:n,previewCls:i,zIndexPopup:o,motionDurationSlow:h}=s,p=new D(a).setAlpha(.1),l=p.clone().setAlpha(.2);return{[`${i}-switch-left, ${i}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:o+1,display:"flex",alignItems:"center",justifyContent:"center",width:s.imagePreviewSwitchSize,height:s.imagePreviewSwitchSize,marginTop:-s.imagePreviewSwitchSize/2,color:s.previewOperationColor,background:p.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${h}`,userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${t}`]:{cursor:"not-allowed"}}},[`> ${t}`]:{fontSize:s.previewOperationSize}},[`${i}-switch-left`]:{insetInlineStart:s.marginSM},[`${i}-switch-right`]:{insetInlineEnd:s.marginSM}}},Ss=s=>{const{motionEaseOut:a,previewCls:t,motionDurationSlow:n,componentCls:i}=s;return[{[`${i}-preview-root`]:{[t]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${t}-body`]:Object.assign(Object.assign({},se()),{overflow:"hidden"}),[`${t}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${a} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},se()),{transition:`transform ${n} ${a} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${t}-moving`]:{[`${t}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${i}-preview-root`]:{[`${t}-wrap`]:{zIndex:s.zIndexPopup}}},{[`${i}-preview-operations-wrapper`]:{position:"fixed",zIndex:s.zIndexPopup+1},"&":[vs(s),Ns(s)]}]},Cs=s=>{const{componentCls:a}=s;return{[a]:{position:"relative",display:"inline-block",[`${a}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${a}-img-placeholder`]:{backgroundColor:s.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${a}-mask`]:Object.assign({},bs(s)),[`${a}-mask:hover`]:{opacity:1},[`${a}-placeholder`]:Object.assign({},se())}}},Ps=s=>{const{previewCls:a}=s;return{[`${a}-root`]:nt(s,"zoom"),"&":_t(s,!0)}},Qe=rt("Image",s=>{const a=`${s.componentCls}-preview`,t=xe(s,{previewCls:a,modalMaskBg:new D("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:s.controlHeightLG});return[Cs(t),Ss(t),Ht(xe(t,{componentCls:a})),Ps(t)]},s=>({zIndexPopup:s.zIndexPopupBase+80,previewOperationColor:new D(s.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new D(s.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new D(s.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:s.fontSizeIcon*1.5}));var Is=globalThis&&globalThis.__rest||function(s,a){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&a.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t};const Ve={rotateLeft:c.createElement(rs,null),rotateRight:c.createElement(ds,null),zoomIn:c.createElement(gs,null),zoomOut:c.createElement(ys,null),close:c.createElement(ot,null),left:c.createElement(zt,null),right:c.createElement(At,null),flipX:c.createElement(ge,null),flipY:c.createElement(ge,{rotate:90})},ks=s=>{var{previewPrefixCls:a,preview:t}=s,n=Is(s,["previewPrefixCls","preview"]);const{getPrefixCls:i}=c.useContext(we),o=i("image",a),h=`${o}-preview`,p=i(),[l,u]=Qe(o),m=c.useMemo(()=>{var j;if(t===!1)return t;const g=typeof t=="object"?t:{},v=ee(u,(j=g.rootClassName)!==null&&j!==void 0?j:"");return Object.assign(Object.assign({},g),{transitionName:X(p,"zoom",g.transitionName),maskTransitionName:X(p,"fade",g.maskTransitionName),rootClassName:v})},[t]);return l(c.createElement(Be.PreviewGroup,Object.assign({preview:m,previewPrefixCls:h,icons:Ve},n)))},Os=ks;var fe=globalThis&&globalThis.__rest||function(s,a){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&a.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(s);i<n.length;i++)a.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(s,n[i])&&(t[n[i]]=s[n[i]]);return t};const _e=s=>{const{prefixCls:a,preview:t,className:n,rootClassName:i,style:o}=s,h=fe(s,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:p,locale:l=ue,getPopupContainer:u,image:m}=c.useContext(we),j=p("image",a),g=p(),v=l.Image||ue.Image,[r,x]=Qe(j),N=ee(i,x),b=ee(n,x,m==null?void 0:m.className),S=c.useMemo(()=>{if(t===!1)return t;const P=typeof t=="object"?t:{},{getContainer:L}=P,E=fe(P,["getContainer"]);return Object.assign(Object.assign({mask:c.createElement("div",{className:`${j}-mask-info`},c.createElement(dt,null),v==null?void 0:v.preview),icons:Ve},E),{getContainer:L||u,transitionName:X(g,"zoom",P.transitionName),maskTransitionName:X(g,"fade",P.maskTransitionName)})},[t,v]),I=Object.assign(Object.assign({},m==null?void 0:m.style),o);return r(c.createElement(Be,Object.assign({prefixCls:j,preview:S,rootClassName:N,className:b,style:I},h)))};_e.PreviewGroup=Os;const Ye=_e,$s=()=>{const s=M(),{Title:a}=ze,[t]=w.useForm(),[n,i]=c.useState(!1),o=()=>{i(!0)},h=async l=>{try{(await s(ct(l))).payload.message==="success"&&t.resetFields(),i(!1)}catch{i(!1)}},p=l=>{i(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(a,{level:4,className:"m-2 text-center",children:"Add Print Page"}),e.jsxs(w,{form:t,layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0},onFinish:h,onFinishFailed:p,autoComplete:"off",labelAlign:"left",children:[e.jsx(w.Item,{style:{marginBottom:"10px"},label:"Page Name",name:"pageSizeName",rules:[{required:!0,message:"Please input print Page Name !"}],children:e.jsx(R,{placeholder:"Enter Page Name"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w.Item,{label:"Width",required:!0,className:"w-1/2",name:"width",rules:[{required:!0,message:"Please input page width!"}],children:e.jsx(A,{size:"small",placeholder:"width in inches"})}),e.jsx(w.Item,{label:"Height",required:!0,className:"w-1/2",name:"height",rules:[{required:!0,message:"Please input height!"}],children:e.jsx(A,{size:"small",placeholder:"height in inches"})})]}),e.jsx(w.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(ae,{loading:n,type:"primary",htmlType:"submit",shape:"round",onClick:o,children:"Create Print Page"})})]})]})})},qe=$s;function Ge({sku:s,printPaper:a}){const{inputRef:t}=Dt({value:`${s}`,options:{background:"#FFFFFF",height:a.height?a.height:60,fontSize:a.fontSize?a.fontSize:15,width:a.width?a.width:1.5},format:"EAN-13"});return e.jsx("svg",{ref:t})}const Ze=c.forwardRef(({product:s,printPaper:a,printPage:t},n)=>{const{pageName:i,col:o,row:h}=a,p=t==null?void 0:t.find(v=>v.pageSizeName==i),l=parseInt(h)*parseInt(o),u=`${(p==null?void 0:p.width)*25.4}mm`||"210mm",m=`${(p==null?void 0:p.height)*25.4}mm`||"297mm",j=[];for(let v=0;v<l;v++)j.push(e.jsxs("div",{className:" border border-dotted px-1 py-1 flex flex-col justify-center items-center",children:[e.jsx("span",{className:"text-sm text-center",children:s==null?void 0:s.name}),e.jsx(Ge,{printPaper:a,sku:s==null?void 0:s.sku})]}));const g={a4Page:{width:u,height:m,padding:"5px",margin:"auto"}};return e.jsxs("div",{ref:n,style:g.a4Page,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 text-sm w-[200px]",children:K().format("MM/DD/YY, h:mm A")}),e.jsx("span",{className:"w-[200px] text-gray-500",children:"Print Barcode | OS Inventory"}),e.jsx("span",{className:"w-[200px]",children:""})]}),e.jsx("div",{className:`grid print-cols-${o} print-rows-${h} m-[15px]`,children:j})]})});Ze.displayName="printToPdf";function Ms({product:s,printPaper:a,printPage:t}){const n=c.useRef(),i=Ot.useReactToPrint({content:()=>n.current});return e.jsxs("div",{children:[e.jsx("div",{className:"hidden",children:e.jsx(Ze,{ref:n,product:s,printPaper:a,printPage:t})}),e.jsxs("button",{onClick:i,className:"bg-primary duration-200 font-medium mx-3 px-5 py-2 text-white rounded",children:["Print ",e.jsx(Lt,{className:"inline"})]})]})}function Ts({product:s,printPaper:a,printPage:t}){const{pageName:n,col:i,row:o}=a,h=t==null?void 0:t.find(g=>g.pageSizeName==n),p=parseInt(o)*parseInt(i),l=`${(h==null?void 0:h.width)*25.4}mm`||"210mm",u=`${(h==null?void 0:h.height)*25.4}mm`||"297mm",m=[];for(let g=0;g<p;g++)m.push(e.jsxs("div",{className:"min-w-[147.68px] max-w-[4004.724px] min-h-[ 117.060px] max-h-[124.100px] border border-dotted px-1 py-1 flex flex-col justify-center items-center",children:[e.jsx("span",{className:"text-sm text-center",children:s==null?void 0:s.name}),e.jsx(Ge,{printPaper:a,sku:s.sku})]}));const j={a4Page:{width:l,height:u,padding:"5px",margin:"auto",border:"1px solid #828282"}};return e.jsx("div",{className:"overflow-hidden ",children:e.jsxs("div",{style:j.a4Page,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500 text-sm w-[200px]",children:K().format("MM/DD/YY, h:mm A")}),e.jsx("span",{className:"w-[200px]",children:""})]}),e.jsx("div",{className:`grid print-cols-${i} print-rows-${o} m-[10px]`,children:m})]})})}function zs(){const{id:s}=_(),a=M(),{product:t,loading:n}=C(m=>m.products),{list:i,loading:o}=C(m=>m.print),[h,p]=c.useState(!1),[l,u]=c.useState({pageName:"A4",row:10,col:3,height:60,width:1.5,fontSize:15});return c.useEffect(()=>{a(Y(s)),a(W({status:"true",page:1,count:10}))},[a,s]),e.jsxs(U,{title:"Print Barcode",extra:e.jsxs("div",{className:" flex",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>p(!0),className:" bg-primary duration-200 font-medium mx-3 px-5 py-2 text-white rounded",children:["Preview ",e.jsx(Et,{className:"inline"})," "]})}),i&&e.jsx(Ms,{product:t,printPaper:l,printPage:i})]}),children:[e.jsx("div",{className:"bg-white p-3 rounded w-full md:w-[80%] lg:w-[60%] xl:w-[45%] 2xl:w-[40%] 3xl:w-[30%] mb-3",children:e.jsxs(w,{layout:"vertical",children:[e.jsx(w.Item,{label:e.jsxs("div",{className:"flex gap-2 items-center",children:["Page Size",e.jsx(te,{children:e.jsx(qe,{})})]}),className:"w-[80%] md:w-full",children:e.jsx($,{name:"pageSize",loading:o,showSearch:!0,placeholder:"page size",optionFilterProp:"children",filterOption:(m,j)=>j.children.includes(m),filterSort:(m,j)=>m.children.toLowerCase().localeCompare(j.children.toLowerCase()),defaultValue:"A4",onChange:m=>{u({...l,pageName:m})},children:i&&i.map(m=>e.jsx($.Option,{value:m.pageSizeName,children:m.pageSizeName},m.id))})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(w.Item,{className:"w-1/2",label:"Column",children:e.jsx(A,{onChange:m=>u({...l,col:m}),defaultValue:l==null?void 0:l.col,size:"small",placeholder:"3"})}),e.jsx(w.Item,{className:"w-1/2",label:"Row",children:e.jsx(A,{defaultValue:l==null?void 0:l.row,size:"small",placeholder:"10",onChange:m=>u({...l,row:m})})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w.Item,{label:"Height",children:e.jsx(A,{defaultValue:l==null?void 0:l.height,size:"small",placeholder:"60",onChange:m=>u({...l,height:m})})})," ",e.jsx(w.Item,{label:"Width",children:e.jsx(A,{defaultValue:l==null?void 0:l.width,size:"small",placeholder:"1.5",step:.1,onChange:m=>u({...l,width:m})})})," ",e.jsx(w.Item,{label:"FontSize",children:e.jsx(A,{defaultValue:l==null?void 0:l.fontSize,size:"small",placeholder:"15",onChange:m=>u({...l,fontSize:m})})})]})]})}),e.jsx("div",{children:t&&h&&e.jsx(Ts,{printPage:i,product:t,printPaper:l})})]})}function As({data:s,id:a}){const t=M(),{pageSizeName:n,width:i,height:o}=s,[h]=w.useForm(),[p,l]=c.useState(!1),[u,m]=c.useState(!1),[j,g]=c.useState(n),[v,r]=c.useState(i),[x,N]=c.useState(o),[b,S]=c.useState({pageSizeName:n,width:i,height:o}),I=()=>{m(!0)},P=()=>{m(!1)},L=()=>{m(!1)},E=async()=>{await t(mt({id:a,data:{pageSizeName:j,width:v,height:x}})),m(!1),l(!1),S({pageSizeName:j,width:v,height:x})},q=()=>{l(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:I,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(J,{className:"text-[1rem]"}),"Edit"]}),e.jsx(Re,{title:"Edit Print Page",open:u,onOk:P,onCancel:L,footer:!1,children:e.jsxs(w,{form:h,layout:"vertical",className:"sm:mx-10",initialValues:{...b},onFinish:E,onFinishFailed:q,autoComplete:"off",labelAlign:"left",children:[e.jsx(w.Item,{style:{marginBottom:"10px"},label:"Page Size Name",name:"pageSizeName",onChange:O=>g(O.target.value),rules:[{required:!0,message:"Please input page size name!"}],children:e.jsx(R,{placeholder:"page name"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w.Item,{label:"Width",required:!0,className:"w-1/2",name:"width",onChange:O=>r(O.target.value),rules:[{required:!0,message:"Please input Page Width!"}],children:e.jsx(A,{placeholder:"Input width in inches"})}),e.jsx(w.Item,{label:"Height",required:!0,className:"w-1/2",name:"height",onChange:O=>N(O.target.value),rules:[{required:!0,message:"Please input page height!"}],children:e.jsx(A,{placeholder:"Input height in inches"})})]}),e.jsx(w.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(ae,{loading:p,onClick:()=>l(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Print Page"})})]})})]})}function Ls(){const s=M(),{list:a,loading:t,total:n}=C(l=>l.print),[i,o]=c.useState({page:1,count:10,status:"true"}),h=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Page Size",dataIndex:"pageSizeName",key:"pageSizeName"},{id:3,title:"Width",dataIndex:"width",key:"width"},{id:4,title:"Height",dataIndex:"height",key:"height"},{id:5,title:"Measurement Type",dataIndex:"unit",key:"unit"},{id:7,title:"",dataIndex:"",key:"action",render:({pageSizeName:l,width:u,height:m,id:j})=>[{label:e.jsx(B,{permission:"update-pageSize",children:e.jsx(As,{data:{pageSizeName:l,width:u,height:m},id:j})}),key:"edit"},{label:e.jsx(Ee,{permission:"delete-pageSize",id:j,title:"Hide",deleteThunk:xt,loadThunk:W}),key:"delete"}],csvOff:!0}],p=[{key:"status",label:"Status",type:"select",mode:"normal",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return c.useEffect(()=>{s(W(i))},[s,i]),e.jsx(U,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Print Page",extra:e.jsx(le,{permission:"create-pageSize",title:"Create Print Page",width:35,children:e.jsx(qe,{})}),children:e.jsx(B,{permission:"readAll-pageSize",children:e.jsx(Oe,{list:a,columns:h,loading:t,total:n,setPageConfig:o,paginatedThunk:W,csvFileName:"print-pages",title:"Print Page List",filters:p})})})}const Es={list:null,error:"",loading:!1,total:0},Rs=ye("product/deleteImage",async({query:s,id:a})=>{try{const{data:t}=await be.patch(`product/${a}?${s}`);return ve(t,"Product image deleted successfully")}catch(t){return Ne(t,!0)}}),Ds=ye("product/updateImage",async({values:s,id:a})=>{try{const{data:t}=await be({method:"post",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},url:`product/${a}?query=update-image`,data:s});return ve(t,"Product image updated successfully")}catch(t){return Ne(t,!0)}});ut({name:"GalleryImageSlice",initialState:Es,reducers:{},extraReducers:s=>{}});function Fs({data:s,handleCancel:a}){const t=M(),{id:n}=_(),[i]=w.useForm(),[o,h]=c.useState([]),[p,l]=c.useState(!1),u=({fileList:j})=>{h(j)},m=async j=>{l(!0);const g=new FormData;g.append("imageId",s.id),o.length&&g.append("images[]",o[0].originFileObj),g.append("_method","PUT");try{(await t(Ds({id:n,values:g}))).payload.message==="success"&&(t(Y(n)),a()),l(!1)}catch{}};return e.jsx(e.Fragment,{children:e.jsxs(w,{form:i,name:"basic",onFinish:m,autoComplete:"off",children:[e.jsxs(w.Item,{valuePropName:"fileList",children:[e.jsx(Fe,{listType:"picture-card",beforeUpload:()=>!1,name:"image",fileList:o,maxCount:1,onChange:u,children:e.jsxs("div",{children:[e.jsx(Vt,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]})}),e.jsx("p",{className:"font-semibold text-rose-500",children:"Required image size 920x400 px & transparent png format"})]}),e.jsx(w.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(F,{color:"primary",disabled:p,type:"submit",loading:p,children:"Update Image"})})]})})}function Bs({data:s=[]}){const a=M(),{id:t}=_(),[n,i]=c.useState(!1),o=()=>{i(!1)},h=async p=>{var u;var l=window.confirm("Are you sure you want to delete?");l&&((u=(await a(Rs({id:t,query:`query=delete-image&imageId=${p}`}))).payload)==null?void 0:u.message)==="success"&&a(Y(t))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-wrap -m-1 md:-m-2",children:s.map(p=>e.jsxs("div",{className:"relative w-1/2 md:w-1/3 p-1 md:p-2 group",children:[e.jsx(Ye,{className:"fluid  max-w-[300px] aspect-square",src:p.imageUrl||"/images/default.jpg"}),e.jsx("div",{className:"absolute top-2 right-2 invisible group-hover:visible",children:e.jsx("div",{className:"flex justify-between mx-2 py-2 border-b items-center",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{onClick:()=>i(p),className:" bg-primary text-white rounded py-2 px-3 d-inline-block",children:e.jsx(J,{})}),e.jsx("div",{onClick:()=>h(p.id),className:"flex items-center gap-2",children:e.jsx(Yt,{className:"bg-red-600 text-white inline-block rounded-md p-3"})})]})})})]},p.id))}),e.jsx(Re,{title:"Update Image",open:n,onCancel:o,footer:!1,children:e.jsx(Fs,{data:n,handleCancel:o})})]})}const Us=()=>{var o,h,p,l,u,m,j,g,v,r,x,N;const{id:s}=_(),a=M(),t=C(b=>b.products.product),n=re();c.useEffect(()=>(a(Y(s)),()=>{a(pt())}),[a,s]);const i=b=>{b.target.src="/images/default.jpg"};return e.jsx(e.Fragment,{children:t?e.jsx(U,{className:"bg-white",title:e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:t==null?void 0:t.name}),(t==null?void 0:t.status)==="true"?e.jsx("span",{className:"px-2 py-[2px] font-normal text-sm bg-green-500 text-white rounded-full",children:"Active"}):e.jsx("span",{className:"px-2 py-[2px] font-normal text-sm bg-gray-500 text-white rounded-full",children:"Inactive"})]}),extra:e.jsx(Ue,{className:"mr-1",content:e.jsx(Me,{items:[{label:e.jsx(B,{permission:"update-product",children:e.jsxs(k,{to:`/admin/product/${t==null?void 0:t.id}/update`,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(J,{className:" p-1 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(Ee,{id:s,title:"Hide",permission:"delete-product",deleteThunk:ht,navigatePath:"/admin/product",className:"bg-white text-black"}),key:"delete"},{label:e.jsxs(k,{to:`/admin/print-barcode/${s}`,className:"flex items-center gap-2 rounded",children:[e.jsx(Ae,{className:"text-[1rem]"}),"Barcode print"]}),key:"barcode"}]}),placement:"bottomRight",arrow:!1,trigger:"click",children:e.jsx(Te,{className:"cursor-pointer text-base"})}),children:e.jsxs("div",{className:"my-4 xl:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"border-b pb-1 text-base font-medium text-gray-600",children:"Specifications"}),e.jsxs("ul",{className:"flex flex-col gap-2 py-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Brand"}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:e.jsx(k,{to:`/admin/product-brand/${(o=t==null?void 0:t.productBrand)==null?void 0:o.id}`,children:(h=t==null?void 0:t.productBrand)==null?void 0:h.name})})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Category"}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:e.jsx(k,{to:`/admin/product-category/${(l=(p=t==null?void 0:t.productSubCategory)==null?void 0:p.productCategory)==null?void 0:l.id}`,children:(m=(u=t==null?void 0:t.productSubCategory)==null?void 0:u.productCategory)==null?void 0:m.name})})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Sub-category"}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:e.jsx(k,{to:`/admin/product-subcategory/${t==null?void 0:t.productSubCategoryId}`,children:(j=t==null?void 0:t.productSubCategory)==null?void 0:j.name})})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"UoM"}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:(t==null?void 0:t.uom)&&`${t==null?void 0:t.uomValue}${(g=t==null?void 0:t.uom)!=null&&g.name?`/${t.uom.name}`:""}`})]}),(t==null?void 0:t.productProductAttributeValue)&&gt(t.productProductAttributeValue).map((b,S)=>e.jsxs("li",{className:"flex items-center",children:[e.jsxs("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:[b[0].productAttributeValue.productAttribute.name,":"]}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%] flex gap-2",children:b.map((I,P)=>e.jsxs("span",{children:[I.productAttributeValue.name,P!==b.length-1?", ":""]},P))})]},S))]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"border-b pb-1 text-base font-medium text-gray-600",children:"Product Pricing"}),e.jsxs("ul",{className:"flex flex-col gap-2 py-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Selling price"}),e.jsxs("span",{className:"text-slate-600  font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),t==null?void 0:t.productSalePrice]})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Purchase price"}),e.jsxs("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),t==null?void 0:t.productPurchasePrice]})]})]})]})]}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ft,{sku:t==null?void 0:t.sku}),e.jsx(Ye,{className:"fluid  max-w-[300px] aspect-square",src:(t==null?void 0:t.productThumbnailImageUrl)||"/images/default.jpg",onError:i}),e.jsx("span",{className:"mt-4",children:e.jsxs("span",{className:"text-lg flex justify-start items-center gap-3",children:[e.jsx("span",{className:"mr-2",children:"Colors:"}),(v=t==null?void 0:t.productColor)==null?void 0:v.map((b,S)=>{var I;return e.jsx("span",{className:"text-slate-600 text-base font-medium flex gap-1 items-center",children:e.jsx("span",{style:{backgroundColor:(I=b.color)==null?void 0:I.colorCode},className:"w-5 h-5 rounded-full inline-block"})},S)})]})})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 py-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx("h1",{className:"border-b pb-1 text-base font-medium text-gray-600",children:"Item Details"}),e.jsxs("ul",{className:"flex flex-col gap-2 py-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"SKU"}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:t==null?void 0:t.sku})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Vat/Tax"}),e.jsxs("span",{className:"text-slate-600  font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:[(r=t==null?void 0:t.productVat)!=null&&r.percentage?(x=t==null?void 0:t.productVat)==null?void 0:x.percentage:0,"%"]})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Discount"}),e.jsx("span",{className:"text-slate-600  font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:(N=t==null?void 0:t.discount)!=null&&N.value?`${t==null?void 0:t.discount.value}${(t==null?void 0:t.discount.type)=="percentage"?"%":" flat"} `:"0%"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Date"}),e.jsx("span",{className:"text-slate-600  font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:K(t==null?void 0:t.createdAt).format("DD/MM/YYYY")})]})]})]}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"border-b pb-1 text-base font-medium text-gray-600",children:"Stock Details"}),e.jsxs("ul",{className:"flex flex-col gap-2 py-4",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400  font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"Quantity"}),e.jsx("span",{className:"text-slate-600 font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:t==null?void 0:t.productQuantity})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 font-medium w-[35%] md:w-[30%] 2xl:w-[25%]",children:"ReOrder Quantity"}),e.jsx("span",{className:"text-slate-600  font-medium w-[65%] md:w-[70%] 2xl:w-[75%]",children:t==null?void 0:t.reorderQuantity})]})]})]})})]}),e.jsxs("div",{className:"w-full flex gap-2 md:gap-4  text-base font-medium my-3",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("h1",{className:"font-medium border-b text-slate-600 py-2 mb-2",children:"Gallery Images"}),e.jsx(Bs,{data:t==null?void 0:t.galleryImage})]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h1",{className:"font-medium border-b text-slate-600 py-2",children:"Product description"}),e.jsx("p",{className:"py-2",dangerouslySetInnerHTML:{__html:t==null?void 0:t.description}})]})]})]})}):e.jsx(Le,{})})},Hs=Us;function Qs({card:s}){const a=re();return e.jsx(c.Fragment,{children:e.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:e.jsx(Bt,{size:30})}),e.jsxs("div",{children:[e.jsx(G,{title:e.jsx("span",{className:"text-lg",children:s==null?void 0:s.uniqueProduct}),children:e.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{}),s!=null&&s.uniqueProduct?Z(s==null?void 0:s.uniqueProduct):0]})}),e.jsx("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:"Unique Product"})]})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-600 bg-violet-100 rounded-lg mr-6",children:e.jsx(Rt,{size:30})}),e.jsx("div",{children:e.jsxs(G,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),s==null?void 0:s.inventorySalesValue.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-violet-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[" ",e.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),s!=null&&s.inventorySalesValue?Z(Number(s.inventorySalesValue)):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Inventory Sale Value"," "]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-500 bg-violet-100 rounded-lg mr-6",children:e.jsx(Gt,{size:30})}),e.jsx("div",{children:e.jsxs(G,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),s==null?void 0:s.inventoryPurchaseValue.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-violet-500 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),s!=null&&s.inventoryPurchaseValue?Z(Number(s.inventoryPurchaseValue)):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Inventory Purchase Value"," "]})]})})]}),e.jsx("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:e.jsxs(k,{to:"/admin/product-sort-list",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:e.jsx(Ut,{size:30})}),e.jsxs("div",{children:[e.jsx(G,{title:e.jsx("span",{className:"text-lg",children:s==null?void 0:s.shortProductCount}),children:e.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{}),s!=null&&s.shortProductCount?Z(s==null?void 0:s.shortProductCount):0]})}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Short Product"," "]})]})]})})]})})}const Vs=()=>{const s=M(),{list:a,loading:t,total:n,card:i}=C(r=>r.products),{list:o,loading:h}=C(r=>r.productBrands),{list:p,loading:l}=C(r=>r.productSubCategories),u=r=>{r.target.src="/images/default.jpg"},m=[{id:1,title:"ID",dataIndex:"id",key:"id",width:"50px",render:r=>e.jsx(k,{to:`/admin/product/${r}`,children:r}),renderCsv:r=>r},{id:2,title:"Image",dataIndex:"productThumbnailImageUrl",render:r=>e.jsx("div",{className:"w-[2.5rem] h-[1.375rem] relative",children:e.jsx("img",{className:"absolute object-cover w-full h-full",alt:"product",onError:u,src:r||"/images/default.jpg"})}),key:"image",width:"70px",csvOff:!0},{id:4,title:"Name",dataIndex:"name",key:"name",render:(r,{id:x})=>e.jsx(k,{title:r,to:`/admin/product/${x}`,children:jt(r,45)}),width:"150px",renderCsv:r=>r,tdClass:"whitespace-normal"},{id:10,title:"Brand",dataIndex:"productBrand",key:"productBrand",render:r=>r==null?void 0:r.name,renderCsv:r=>r==null?void 0:r.name},{id:9,title:"Sub Category",dataIndex:"productSubCategory",key:"productSubCategory",render:r=>r==null?void 0:r.name,renderCsv:r=>r==null?void 0:r.name},{id:3,title:"SKU",dataIndex:"sku",key:"sku"},{id:7,title:"Purchase price",dataIndex:"productPurchasePrice",key:"productPurchasePrice",responsive:["md"]},{id:3,title:"Vat",dataIndex:"productVat",key:"productVat",render:r=>e.jsx("span",{children:r?`${r==null?void 0:r.percentage}%`:"0%"}),renderCsv:r=>`${r!=null&&r.percentage?r==null?void 0:r.percentage:0}%`},{id:8,title:"Sale price",dataIndex:"productSalePrice",key:"productSalePrice",responsive:["md"]},{id:6,title:"Quantity",dataIndex:"productQuantity",key:"productQuantity"},{id:5,title:"UoM",key:"uomValue",render:({uom:r,uomValue:x})=>`${x||""}${r!=null&&r.name?`/${r.name}`:""}`,renderCsv:({uom:r,uomValue:x})=>`${x||""}${r!=null&&r.name?`/${r.name}`:""}`},{id:12,title:"Reorder QTY",dataIndex:"reorderQuantity",key:"reorderQuantity"},{id:13,title:"",key:"action",render:({id:r})=>[{label:e.jsx(He,{title:"View",path:`/admin/product/${r}`}),key:"view"},{label:e.jsx(B,{permission:"update-product",children:e.jsxs(k,{to:`/admin/product/${r}/update`,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(J,{className:" p-1 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsxs(k,{to:`/admin/print-barcode/${r}`,className:"flex items-center gap-2 rounded",children:[e.jsx(Ae,{className:"text-[1rem]"}),"Barcode"]}),key:"barcode"}],csvOff:!0}],[j,g]=c.useState({page:1,count:10,status:"true"}),v=[{key:"productSubCategoryId",label:"Sub Category",type:"select",options:p==null?void 0:p.map(r=>({label:r==null?void 0:r.name,value:r==null?void 0:r.id})),className:"min-w-[123px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"productBrandId",label:"Brand",type:"select",options:o==null?void 0:o.map(r=>({label:r==null?void 0:r.name,value:r==null?void 0:r.id})),className:"min-w-[100px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return c.useEffect(()=>{s(ft())},[s]),c.useEffect(()=>{s(Se(j))},[s,j]),c.useEffect(()=>{s(Ce({query:"all"})),s(Pe({query:"all"}))},[s]),e.jsxs(e.Fragment,{children:[i&&e.jsx(Qs,{card:i}),e.jsx(U,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Products",extra:e.jsx(le,{permission:"create-product",title:"Create Product",width:60,children:e.jsx(De,{})}),children:e.jsx(B,{permission:"readAll-product",children:e.jsx(Oe,{list:a,total:n,loading:t,columns:m,filters:v,setPageConfig:g,title:"Product List",isSearch:!0})})})]})},_s=Vs;function je({data:s,info:a,title:t,type:n,btnName:i}){const{currencySymbol:o}=re()||{},h=C(x=>{var N;return(N=x==null?void 0:x.setting)==null?void 0:N.data})||null,p=wt(o),l=[],u=[{label:"Total Product Quantity",value:`${a!=null&&a.totalProductQuantity?Number(a.totalProductQuantity).toFixed(2):""}`},{label:"Total Purchase Price",value:`${p}${a!=null&&a.totalPurchasePrice?Number(a.totalPurchasePrice).toFixed(2):""}`},{label:"Total Sale Price",value:`${p}${a!=null&&a.totalSalePrice?Number(a.totalSalePrice).toFixed(2):""}`}],m=["id","Name","SKU","Brand ","SubCategory","Color","UoM","QTY","ReOrder QTY","Vat","Purchase Price","Sale Price"],j=s==null?void 0:s.map(x=>{var N,b,S,I,P;return[x==null?void 0:x.id,x==null?void 0:x.name,x==null?void 0:x.sku,(N=x==null?void 0:x.productBrand)==null?void 0:N.name,(b=x==null?void 0:x.productSubCategory)==null?void 0:b.name,(S=x==null?void 0:x.productColor)==null?void 0:S.map(L=>L.color.name).join(`,
`),(I=x==null?void 0:x.uom)==null?void 0:I.name,x==null?void 0:x.productQuantity,x==null?void 0:x.reorderQuantity,x!=null&&x.productVat?(P=x==null?void 0:x.productVat)==null?void 0:P.percentage:"-",`${p}${x!=null&&x.productPurchasePrice?x.productPurchasePrice:0}`,`${p}${x!=null&&x.productSalePrice?x.productSalePrice:0}`]}),g=[],v=[{value:`Report Date: ${K().format("YYYY-MM-DD")}`}],r={jsPDF:{orientation:"landscape"},tableFontSize:8,infoTopFontSize:10,bottomRightFontSize:12,bottomLeftFontSize:8,footerFontSize:10,bottomMargin:20};return e.jsx("div",{className:"flex gap-2",children:e.jsx(F,{className:"bg-primary flex  justify-center items-center px-4 py-2 text-white rounded",onClick:()=>Wt(n,{title:t,TopRightInfo:v,companyInfo:h,customerInfo:g,bottomLeftContent:l,bottomRightContent:u,tableBody:j,tableHead:m,settings:r}),children:i})})}function Ys(){const s=M(),[a,t]=c.useState(!1),{report:n,info:i,loading:o}=C(l=>l.products),h=[{id:1,title:"ID",dataIndex:"id",key:"id",width:"50px",render:l=>e.jsx(k,{to:`/admin/product/${l}`,children:l})},{id:4,title:"Name",dataIndex:"name",key:"name",render:(l,{id:u})=>e.jsx(k,{to:`/admin/product/${u}`,children:l}),width:"150px",tdClass:"whitespace-nowrap"},{id:10,title:"Brand",dataIndex:"productBrand",key:"productBrand",render:l=>l==null?void 0:l.name},{id:9,title:"Sub Category",dataIndex:"productSubCategory",key:"productSubCategory",render:l=>l==null?void 0:l.name},{id:3,title:"SKU",dataIndex:"sku",key:"sku"},{id:7,title:"Purchase price",dataIndex:"productPurchasePrice",key:"productPurchasePrice",responsive:["md"]},{id:3,title:"Vat",dataIndex:"productVat",key:"productVat",render:l=>e.jsx("span",{children:l?`${l==null?void 0:l.percentage}%`:"0%"})},{id:8,title:"Sale price",dataIndex:"productSalePrice",key:"productSalePrice",responsive:["md"]},{id:6,title:"Quantity",dataIndex:"productQuantity",key:"productQuantity"},{id:5,title:"UoM",key:"uomValue",render:({uom:l,uomValue:u})=>`${u||""}${l!=null&&l.name?`/${l.name}`:""}`},{id:12,title:"Reorder QTY",dataIndex:"reorderQuantity",key:"reorderQuantity"}],p=[{id:1,title:"ID",dataIndex:"id",key:"id",renderCsv:l=>l},{id:1,title:"SKU",dataIndex:"sku",key:"sku",renderCsv:l=>l},{id:10,title:"Brand",dataIndex:"productBrand",key:"productBrand",renderCsv:l=>l==null?void 0:l.name},{id:9,title:"Sub Category",dataIndex:"productSubCategory",key:"productSubCategory",renderCsv:l=>l==null?void 0:l.name},{id:12,title:"Color",dataIndex:"productColor",key:"color",renderCsv:l=>l.length>0?l.map(u=>u.color.name):"-"},{id:5,title:"UoM",key:"uomValue",renderCsv:({uom:l,uomValue:u})=>`${u||""}${l!=null&&l.name?`/${l.name}`:""}`},{id:6,title:"Quantity",dataIndex:"productQuantity",key:"productQuantity"},{id:12,title:"Reorder QTY",dataIndex:"reorderQuantity",key:"reorderQuantity"},{id:3,title:"Vat",dataIndex:"productVat",key:"productVat",renderCsv:l=>`${l!=null&&l.percentage?l==null?void 0:l.percentage:0}%`},{id:7,title:"Purchase price",dataIndex:"productPurchasePrice",key:"productPurchasePrice",responsive:["md"]},{id:8,title:"Sale price",dataIndex:"productSalePrice",key:"productSalePrice",responsive:["md"]}];return c.useEffect(()=>{s(yt())},[s]),e.jsx("div",{className:"card card-custom mt-3 ",children:e.jsx("div",{className:"card-body",children:e.jsxs(U,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Inventory Report",children:[e.jsxs("div",{className:"flex py-5  items-start justify-between ",children:[e.jsx("div",{children:e.jsx(F,{onClick:()=>t(!0),className:" bg-green-500 text-white inline-block",children:"Generate Report"})}),e.jsxs("div",{className:"flex  items-start gap-2",children:[!o&&n?e.jsx(je,{data:n,info:i,title:"INVENTORY REPORT",type:"print",btnName:"Print"}):e.jsx("div",{children:e.jsx(F,{loading:o||!n,className:"bg-primary text-white w-[100px]",children:"Print"})}),!o&&n?e.jsx(je,{data:n,info:i,title:"INVENTORY REPORT",type:"download",btnName:"Export PDF"}):e.jsx("div",{children:e.jsx(F,{loading:o||!n,className:"bg-primary text-white",children:"Export PDF"})}),e.jsx("div",{children:e.jsx($e,{list:n,columns:p,title:"Inventory Report",className:"bg-primary  text-base w-[120px] h-auto py-2 ",btnName:"Export CSV"})})]})]}),a&&e.jsx(Zt,{list:n,columns:h,loading:o})]})})})}const qs=({urlPath:s,title:a})=>e.jsx(e.Fragment,{children:e.jsx("center",{children:e.jsxs(Ie,{className:"h-full max-w-[720px] py-4",children:[e.jsxs(ze.Title,{level:3,className:"m-2 text-center",children:["Import ",a," From CSV"]}),e.jsx(Xt,{urlPath:s,demoData:[["name","sku","productSalePrice","productBrandId","productSubCategoryId"],["Demo Product 1","569992","200",1,1],["Demo Product 2","569862","300",1,1],["Demo Product 3","969992","400",1,1]],loadAllThunk:Se,query:{status:"true",page:1,count:10},title:"Demo Product"})]})})}),Gs=qs,Zs={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],["link","image"],[{color:[]},{background:[]}],["clean"]]},Ws=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],Xs=()=>{const s=M(),[a]=w.useForm(),{id:t}=_(),n=C(d=>{var f;return(f=d.productSubCategories)==null?void 0:f.list}),i=C(d=>{var f;return(f=d.productBrands)==null?void 0:f.list}),{product:o}=C(d=>d.products),{list:h}=C(d=>d.colors),{list:p,loading:l}=C(d=>d.uom),{list:u,loading:m}=C(d=>d.vatTax),j=C(d=>{var f;return(f=d.discount)==null?void 0:f.list}),[g,v]=c.useState([]),[r,x]=c.useState([]),[N,b]=c.useState(!1),[S,I]=c.useState(null),[P,L]=c.useState(null),[E,q]=c.useState(""),[O,ne]=c.useState([]),We=d=>{I(d)},ie=d=>{L(d)},Xe=d=>{q(d)},Ke=d=>{ne(d)},Je=({fileList:d})=>{v(d)},[oe,et]=c.useState(""),tt=async d=>{var H,de,ce,me;let f=new FormData;const y=Pt(d);try{he()==="laravel"&&(g!=null&&g.length)?(H=g[0])!=null&&H.originFileObj&&f.append("images[]",(de=g[0])==null?void 0:de.originFileObj):g!=null&&g.length&&(ce=g[0])!=null&&ce.originFileObj&&f.append("images",(me=g[0])==null?void 0:me.originFileObj),r.forEach(lt=>{f.append("images[]",lt.originFileObj)}),f.append("_method","PUT"),f.append("name",y==null?void 0:y.name),S&&f.append("productSubCategoryId",S),P&&f.append("productBrandId",P),f.append("sku",y==null?void 0:y.sku),y!=null&&y.uomId&&f.append("uomId",y==null?void 0:y.uomId),y!=null&&y.uomValue&&f.append("uomValue",y.uomValue),y!=null&&y.productSalePrice&&f.append("productSalePrice",y==null?void 0:y.productSalePrice),y!=null&&y.reorderQuantity&&f.append("reorderQuantity",y.reorderQuantity),E&&f.append("description",E),y.productVatId&&f.append("productVatId",parseInt(y.productVatId)),y.discountId&&f.append("discountId",parseInt(y.discountId)),O.length&&f.append("colors",O),oe&&f.append("shippingChargeComment",oe),(await s(It({id:t,formData:f,fileConfig:he}))).payload.message,b(!1)}catch{b(!1)}},st=()=>{b(!1)};return c.useEffect(()=>{s(Y(t)),s(bt({page:1,count:100,status:!0})),s(Ce({page:1,count:100,status:!0})),s(Pe({page:1,count:100,status:!0})),s(vt({})),s(Nt()),s(St()),s(Ct())},[s,t]),c.useEffect(()=>{var d;if(o){q(o==null?void 0:o.description),et(o==null?void 0:o.shippingChargeComment),I(o==null?void 0:o.productSubCategoryId),L(o==null?void 0:o.productBrandId);const f=(d=o==null?void 0:o.productColor)==null?void 0:d.map(y=>{var H;return(H=y.color)==null?void 0:H.id});ne(f)}},[o==null?void 0:o.description,o==null?void 0:o.productBrandId,o==null?void 0:o.productSubCategoryId]),e.jsx(e.Fragment,{children:o?e.jsxs(Ie,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},bordered:!1,children:[e.jsx("h1",{className:"text-lg font-bold text-center my-10",children:"Update Product"}),e.jsxs(w,{form:a,name:"basic",className:"mx-40",initialValues:{...o},onFinish:tt,onFinishFailed:st,autoComplete:"off",layout:"vertical",children:[e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Name",name:"name",required:!0,children:e.jsx(R,{})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(w.Item,{style:{marginBottom:"15px"},name:"productSubCategoryId",label:e.jsxs(e.Fragment,{children:["Subcategory",e.jsx(te,{title:"new Sub-Category",children:e.jsx(Jt,{drawer:!0})})]}),className:"w-full sm:w-1/2",children:e.jsx($,{name:"productSubCategoryId",loading:!n,showSearch:!0,placeholder:"Select Subcategory",optionFilterProp:"children",filterOption:(d,f)=>f.children.includes(d),filterSort:(d,f)=>d.children.toLowerCase().localeCompare(f.children.toLowerCase()),onChange:We,children:n&&n.map(d=>e.jsx($.Option,{value:d==null?void 0:d.id,children:d==null?void 0:d.name},d==null?void 0:d.id))})}),e.jsxs(w.Item,{style:{marginBottom:"15px"},className:"flex-grow",name:"productBrandId",label:e.jsxs(e.Fragment,{children:["Brand",e.jsx(te,{title:"new Brand",children:e.jsx(es,{drawer:!0})})]}),children:[" ",e.jsx($,{name:"productBrandId",loading:!i,showSearch:!0,placeholder:"Select Brand",optionFilterProp:"children",filterOption:(d,f)=>f.children.includes(d),filterSort:(d,f)=>d.children.toLowerCase().localeCompare(f.children.toLowerCase()),onChange:ie,children:i==null?void 0:i.map(d=>e.jsx($.Option,{value:d.id,children:d.name},d.id))})," "]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(w.Item,{style:{marginBottom:"15px"},name:"uomId",label:"UoM (Unit of Measure)",className:"w-full sm:w-1/2",children:e.jsx($,{name:"uomId",loading:l,showSearch:!0,optionFilterProp:"children",filterOption:(d,f)=>f.children.includes(d),filterSort:(d,f)=>d.children.toLowerCase().localeCompare(f.children.toLowerCase()),children:p&&p.map(d=>e.jsx($.Option,{value:d==null?void 0:d.id,children:d==null?void 0:d.name},d.id))})}),e.jsx(w.Item,{style:{marginBottom:"15px"},label:"UoM Value",name:"uomValue",className:"w-full sm:w-1/2",children:e.jsx(R,{type:"number"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Sale Price",name:"productSalePrice",className:"w-full sm:w-1/2",children:e.jsx(R,{type:"number"})}),e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Reorder Quantity",name:"reorderQuantity",className:"w-full sm:w-1/2",children:e.jsx(R,{type:"number"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(w.Item,{style:{marginBottom:"15px"},label:"SKU No",name:"sku",required:!0,className:"w-full sm:w-1/2",children:e.jsx(R,{})}),(h==null?void 0:h.length)&&e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Colors",className:"w-full sm:w-1/2",rules:[(O==null?void 0:O.length)===0&&{required:!0,message:"Please input Color!"}],children:e.jsx(Qt,{data:h,selectedColors:O,colorsHandler:Ke})})]}),e.jsx("div",{className:"flex  gap-3",children:e.jsx(w.Item,{label:"Upload Thumbnail Image",valuePropName:"thumbnail_image",className:"w-1/2",children:e.jsx(Fe,{listType:"picture-card",beforeUpload:()=>!1,name:"image",fileList:g,maxCount:1,accept:"image/png, image/jpg, image/jpeg",onChange:Je,children:e.jsxs("div",{children:[e.jsx(ke,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]})})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Discount",name:"discountId",className:"w-full sm:w-1/2",children:e.jsx($,{name:"discountId",loading:!i,showSearch:!0,placeholder:"Select discount",optionFilterProp:"children",filterOption:(d,f)=>f.children.includes(d),filterSort:(d,f)=>d.children.toLowerCase().localeCompare(f.children.toLowerCase()),onChange:ie,children:j&&j.map(d=>e.jsx($.Option,{value:d.id,children:`${d.type=="percentage"?`${d.value}%`:`Flat ${d.value}`}`},d.id))})}),e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Product Vat/Tax",name:"productVatId",placeholder:"Select Vat/tax",className:"w-full sm:w-1/2",children:e.jsx($,{placeholder:"Select Vat/Tax type",loading:m,children:u==null?void 0:u.map(d=>e.jsxs($.Option,{value:d.id,children:[d.title,e.jsxs("span",{className:"italic",children:["@",d.percentage,"%"]})]},d.id))})})]}),e.jsx(w.Item,{style:{marginBottom:"25px"},label:"Product Description ",children:e.jsx(Kt,{value:E,onChange:Xe,modules:Zs,formats:Ws})}),e.jsx(w.Item,{style:{marginBottom:"15px"},className:"flex justify-center mt-[24px]",children:e.jsx(ae,{onClick:()=>b(!0),type:"primary",htmlType:"submit",shape:"round",loading:N,children:"Update Product"})})]})]}):e.jsx(Le,{})})},Ks=Xs,Js=({columns:s,list:a,total:t,loading:n,paginatedThunk:i,children:o,query:h,setProductList:p,productList:l})=>{const[u,m]=c.useState([]),j=M(),v={selectedRowKeys:u,onChange:(b,S)=>{m(b),p(S)}},r=(b,S)=>{j(i({...h,status:!0,page:b,count:S}))},[x,N]=c.useState([]);return c.useEffect(()=>{N(s)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"pb-3",children:e.jsxs("div",{className:"w-full dark:text-yellow-50 flex flex-col md:flex-row gap-2 items-center justify-between",children:[e.jsx("div",{className:""}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx($t,{options:s,columns:s,columnsToShowHandler:N}),e.jsx(Ue,{content:e.jsx(Me,{items:[{key:"1",label:e.jsx(Mt,{list:a,columns:s,title:"Shortage Products"})},{key:"2",label:e.jsx($e,{notButton:!0,list:a,columns:s,title:"Shortage Products"})}]}),placement:"bottomRight",arrow:!1,trigger:"click",children:e.jsx(F,{color:"gray",icon:e.jsx(Te,{size:15}),className:"px-2"})})]})]})}),e.jsx(qt,{loading:n,rowSelection:v,columns:x,dataSource:!!(a!=null&&a.length)&&a.map(b=>({...b,key:b==null?void 0:b.id})),pagination:!1,scroll:{x:1e3,y:window.innerHeight-319}}),e.jsx("div",{className:"flex justify-center mt-3",children:t>=11&&e.jsx(Tt,{onChange:r,total:t})})]}),o&&o]})},ea=()=>{const s=M(),[a,t]=c.useState([]),{list:n,loading:i,total:o}=C(u=>u.productSortList),[h,p]=c.useState({page:1,count:10,status:"true"}),l=[{id:2,title:"ID",dataIndex:"id",key:"id",render:u=>e.jsx(k,{to:`/admin/product/${u}`,children:u}),renderCsv:u=>u},{id:4,title:"Name",dataIndex:"name",key:"name",render:(u,{id:m})=>e.jsx(k,{to:`/admin/product/${m}`,children:u}),renderCsv:u=>u},{id:3,title:"SKU",dataIndex:"sku",key:"sku"},{id:6,title:"QTY",dataIndex:"productQuantity",key:"productQuantity"},{id:7,title:"Purchase price",dataIndex:"productPurchasePrice",key:"productPurchasePrice",responsive:["md"]},{id:8,title:"Sale price",dataIndex:"productSalePrice",key:"productSalePrice",responsive:["md"]},{id:12,title:"Reorder QTY",dataIndex:"reorderQuantity",key:"reorderQuantity"},{id:13,title:"Action",key:"action",render:({sku:u},{id:m})=>e.jsx("div",{className:"flex",children:e.jsx(He,{path:`/admin/product/${m}`})}),csvOff:!0}];return c.useEffect(()=>{s(pe(h))},[s,h]),e.jsx(U,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Product Short List",extra:a.length?e.jsx(e.Fragment,{children:e.jsx(le,{permission:"create-product",title:"Create Purchase Order",children:e.jsx(ts,{list:a})})}):e.jsx("button",{disabled:!0,title:"Select at least one product",className:`xs:px-3 px-2 md:text-base py-[6px] lg:px-5  border bg-gray-400
                    text-white rounded cursor-not-allowed`,children:e.jsxs("span",{className:"flex items-center justify-center gap-1 md:gap-2 ",children:[e.jsx(ke,{}),e.jsx("span",{className:"",children:"Create Purchase Order"})]})}),children:e.jsx(B,{permission:"readAll-reorderQuantity",children:e.jsx(Js,{list:n,total:o,loading:i,columns:l,csvFileName:"Product Sort List",paginatedThunk:pe,setProductList:t,productList:a})})})},ta=ea;function sa(){return e.jsx(e.Fragment,{children:e.jsx(ta,{})})}function Ha(){return e.jsxs(kt,{children:[e.jsx(T,{path:"/product",exact:!0,element:e.jsx(z,{permission:"readAll-product",children:e.jsx(_s,{})})}),e.jsx(T,{path:"/product-report",exact:!0,element:e.jsx(z,{permission:"readAll-product",children:e.jsx(Ys,{})})}),e.jsx(T,{path:"/add-product",exact:!0,element:e.jsx(z,{permission:"create-product",children:e.jsx(De,{})})}),e.jsx(T,{path:"/product/:id",element:e.jsx(z,{permission:"readSingle-product",children:e.jsx(Hs,{})})}),e.jsx(T,{path:"/import-product",exact:!0,element:e.jsx(z,{permission:"create-product",children:e.jsx(Gs,{urlPath:"product",title:"Product"})})}),e.jsx(T,{path:"/product/:id/update",element:e.jsx(z,{permission:"update-product",children:e.jsx(Ks,{})})}),e.jsx(T,{path:"/product-sort-list",element:e.jsx(z,{permission:"readAll-product",children:e.jsx(sa,{})})}),e.jsx(T,{path:"/print-barcode/:id",element:e.jsx(z,{permission:"readSingle-product",children:e.jsx(zs,{})})}),e.jsx(T,{path:"/print-page-setting",exact:!0,element:e.jsx(z,{permission:"readAll-pageSize",children:e.jsx(Ls,{})})})]})}export{Ha as default};
