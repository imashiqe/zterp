import{Q as ct,T as ut,aa as Z,dG as Ee,aC as Ae,r as m,U as Se,dH as Fe,z as Y,aV as Le,G as mt,b as T,u as R,q as Ie,k as I,s as _e,j as e,a0 as ue,a1 as me,C as q,L as P,F as w,dI as xt,B as te,dJ as pt,v as ze,o as Oe,dK as ht,n as He,bc as k,dL as gt,dM as Me,bh as G,dN as bt,dO as jt,dP as Ve,dQ as yt,ce as ft,cl as vt,dR as Ct,I as Nt,dS as St,dT as Be,x as It,y as _}from"./index-16ff5701.js";import{S as Ue,L as We,P as z}from"./AdminLayout-ac80ae52.js";import{u as K}from"./useCurrency-ff395f2c.js";import{i as De}from"./invoiceGenerator-91e8874d.js";import{n as Ge}from"./numberToWords-4c291141.js";import{U as Ot}from"./UpdatePayment-d92c5999.js";import{V as re}from"./ViewBtn-eedc84ae.js";import{T as xe}from"./index-8b1cef28.js";import{M as we}from"./index-2e4f1652.js";import{S as D,r as Qe,a as ie}from"./Button-81cb4f36.js";import{I as Dt}from"./index-6d01e873.js";import{b as wt,C as se,U as pe,T as he,a as Rt}from"./TableComponent-f70e0475.js";import{T as C}from"./index-1ab3c210.js";import{d as Q}from"./dayjs.min-72f12467.js";import{a as Ze,b as qe,c as Ke}from"./index-bad6c49c.js";import{a as A}from"./nFormetter-e5bcdc34.js";import{D as ce}from"./index-f03f7796.js";import{R as $t}from"./ReportTable-1374d75d.js";import"./jspdf.es.min-3ec80e90.js";import"./useForceUpdate-5b1eefe7.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";import"./EditOutlined-f754bc7b.js";const Tt=new Z("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Pt=new Z("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Et=new Z("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),At=new Z("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),Mt=new Z("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Yt=new Z("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),kt=t=>{const{componentCls:n,iconCls:s,antCls:r,badgeFontHeight:l,badgeShadowSize:d,badgeHeightSm:o,motionDurationSlow:c,badgeStatusSize:x,marginXS:h,badgeRibbonOffset:i}=t,u=`${r}-scroll-number`,a=`${r}-ribbon`,b=`${r}-ribbon-wrapper`,f=Ee(t,(g,p)=>{let{darkColor:v}=p;return{[`&${n} ${n}-color-${g}`]:{background:v,[`&:not(${n}-count)`]:{color:v}}}}),j=Ee(t,(g,p)=>{let{darkColor:v}=p;return{[`&${a}-color-${g}`]:{background:v,color:v}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${n}-count`]:{zIndex:t.badgeZIndex,minWidth:t.badgeHeight,height:t.badgeHeight,color:t.badgeTextColor,fontWeight:t.badgeFontWeight,fontSize:t.badgeFontSize,lineHeight:`${t.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:t.badgeHeight/2,boxShadow:`0 0 0 ${d}px ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${n}-count-sm`]:{minWidth:o,height:o,fontSize:t.badgeFontSizeSm,lineHeight:`${o}px`,borderRadius:o/2},[`${n}-multiple-words`]:{padding:`0 ${t.paddingXS}px`},[`${n}-dot`]:{zIndex:t.badgeZIndex,width:t.badgeDotSize,minWidth:t.badgeDotSize,height:t.badgeDotSize,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${d}px ${t.badgeShadowColor}`},[`${n}-dot${u}`]:{transition:`background ${c}`},[`${n}-count, ${n}-dot, ${u}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${s}-spin`]:{animationName:Yt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${n}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${n}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:x,height:x,verticalAlign:"middle",borderRadius:"50%"},[`${n}-status-success`]:{backgroundColor:t.colorSuccess},[`${n}-status-processing`]:{overflow:"visible",color:t.colorPrimary,backgroundColor:t.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:d,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Tt,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${n}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${n}-status-error`]:{backgroundColor:t.colorError},[`${n}-status-warning`]:{backgroundColor:t.colorWarning},[`${n}-status-text`]:{marginInlineStart:h,color:t.colorText,fontSize:t.fontSize}}}),f),{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:Pt,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${n}-zoom-leave`]:{animationName:Et,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${n}-not-a-wrapper`]:{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:At,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${n}-zoom-leave`]:{animationName:Mt,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${n}-status)`]:{verticalAlign:"middle"},[`${u}-custom-component, ${n}-count`]:{transform:"none"},[`${u}-custom-component, ${u}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${u}`]:{overflow:"hidden",[`${u}-only`]:{position:"relative",display:"inline-block",height:t.badgeHeight,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${u}-only-unit`]:{height:t.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${u}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${n}-count, ${n}-dot, ${u}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${b}`]:{position:"relative"},[`${a}`]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(t)),{position:"absolute",top:h,padding:`0 ${t.paddingXS}px`,color:t.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${a}-text`]:{color:t.colorTextLightSolid},[`${a}-corner`]:{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:`${i/2}px solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),j),{[`&${a}-placement-end`]:{insetInlineEnd:-i,borderEndEndRadius:0,[`${a}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${a}-placement-start`]:{insetInlineStart:-i,borderEndStartRadius:0,[`${a}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Xe=ct("Badge",t=>{const{fontSize:n,lineHeight:s,fontSizeSM:r,lineWidth:l,marginXS:d,colorBorderBg:o}=t,c=Math.round(n*s),x=l,h="auto",i=c-2*x,u=t.colorBgContainer,a="normal",b=r,f=t.colorError,j=t.colorErrorHover,g=n,p=r/2,v=r,$=r/2,M=ut(t,{badgeFontHeight:c,badgeShadowSize:x,badgeZIndex:h,badgeHeight:i,badgeTextColor:u,badgeFontWeight:a,badgeFontSize:b,badgeColor:f,badgeColorHover:j,badgeShadowColor:o,badgeHeightSm:g,badgeDotSize:p,badgeFontSizeSm:v,badgeStatusSize:$,badgeProcessingDuration:"1.2s",badgeRibbonOffset:d,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[kt(M)]}),Ft=t=>{const{className:n,prefixCls:s,style:r,color:l,children:d,text:o,placement:c="end"}=t,{getPrefixCls:x,direction:h}=m.useContext(Se),i=x("ribbon",s),u=Fe(l,!1),a=Y(i,`${i}-placement-${c}`,{[`${i}-rtl`]:h==="rtl",[`${i}-color-${l}`]:u},n),[b,f]=Xe(i),j={},g={};return l&&!u&&(j.background=l,g.color=l),b(m.createElement("div",{className:Y(`${i}-wrapper`,f)},d,m.createElement("div",{className:Y(a,f),style:Object.assign(Object.assign({},j),r)},m.createElement("span",{className:`${i}-text`},o),m.createElement("div",{className:`${i}-corner`,style:g}))))},Lt=Ft;function Ye(t){let{prefixCls:n,value:s,current:r,offset:l=0}=t,d;return l&&(d={position:"absolute",top:`${l}00%`,left:0}),m.createElement("span",{style:d,className:Y(`${n}-only-unit`,{current:r})},s)}function _t(t,n,s){let r=t,l=0;for(;(r+10)%10!==n;)r+=s,l+=s;return l}function zt(t){const{prefixCls:n,count:s,value:r}=t,l=Number(r),d=Math.abs(s),[o,c]=m.useState(l),[x,h]=m.useState(d),i=()=>{c(l),h(d)};m.useEffect(()=>{const b=setTimeout(()=>{i()},1e3);return()=>{clearTimeout(b)}},[l]);let u,a;if(o===l||Number.isNaN(l)||Number.isNaN(o))u=[m.createElement(Ye,Object.assign({},t,{key:l,current:!0}))],a={transition:"none"};else{u=[];const b=l+10,f=[];for(let p=l;p<=b;p+=1)f.push(p);const j=f.findIndex(p=>p%10===o);u=f.map((p,v)=>{const $=p%10;return m.createElement(Ye,Object.assign({},t,{key:p,value:$,offset:v-j,current:v===j}))});const g=x<d?1:-1;a={transform:`translateY(${-_t(o,l,g)}00%)`}}return m.createElement("span",{className:`${n}-only`,style:a,onTransitionEnd:i},u)}var Ht=globalThis&&globalThis.__rest||function(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)n.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(s[r[l]]=t[r[l]]);return s};const Vt=m.forwardRef((t,n)=>{const{prefixCls:s,count:r,className:l,motionClassName:d,style:o,title:c,show:x,component:h="sup",children:i}=t,u=Ht(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:a}=m.useContext(Se),b=a("scroll-number",s),f=Object.assign(Object.assign({},u),{"data-show":x,style:o,className:Y(b,l,d),title:c});let j=r;if(r&&Number(r)%1===0){const g=String(r).split("");j=g.map((p,v)=>m.createElement(zt,{prefixCls:b,count:Number(r),value:p,key:g.length-v}))}return o&&o.borderColor&&(f.style=Object.assign(Object.assign({},o),{boxShadow:`0 0 0 1px ${o.borderColor} inset`})),i?Le(i,g=>({className:Y(`${b}-custom-component`,g==null?void 0:g.className,d)})):m.createElement(h,Object.assign({},f,{ref:n}),j)}),Bt=Vt;var Ut=globalThis&&globalThis.__rest||function(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)n.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(s[r[l]]=t[r[l]]);return s};const Wt=(t,n)=>{var s,r,l,d,o;const{prefixCls:c,scrollNumberPrefixCls:x,children:h,status:i,text:u,color:a,count:b=null,overflowCount:f=99,dot:j=!1,size:g="default",title:p,offset:v,style:$,className:M,rootClassName:L,classNames:S,styles:O,showZero:H=!1}=t,X=Ut(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:J,direction:V,badge:y}=m.useContext(Se),N=J("badge",c),[ne,et]=Xe(N),ge=b>f?`${f}+`:b,le=ge==="0"||ge===0,tt=b===null||le&&!H,be=(i!=null||a!=null)&&tt,ee=j&&!le,B=ee?"":ge,U=m.useMemo(()=>(B==null||B===""||le&&!H)&&!ee,[B,le,H,ee]),Re=m.useRef(b);U||(Re.current=b);const W=Re.current,$e=m.useRef(B);U||($e.current=B);const je=$e.current,Te=m.useRef(ee);U||(Te.current=ee);const ae=m.useMemo(()=>{if(!v)return Object.assign(Object.assign({},y==null?void 0:y.style),$);const E={marginTop:v[1]};return V==="rtl"?E.left=parseInt(v[0],10):E.right=-parseInt(v[0],10),Object.assign(Object.assign(Object.assign({},E),y==null?void 0:y.style),$)},[V,v,$,y==null?void 0:y.style]),rt=p??(typeof W=="string"||typeof W=="number"?W:void 0),st=U||!u?null:m.createElement("span",{className:`${N}-status-text`},u),nt=!W||typeof W!="object"?void 0:Le(W,E=>({style:Object.assign(Object.assign({},ae),E.style)})),oe=Fe(a,!1),lt=Y(S==null?void 0:S.indicator,(s=y==null?void 0:y.classNames)===null||s===void 0?void 0:s.indicator,{[`${N}-status-dot`]:be,[`${N}-status-${i}`]:!!i,[`${N}-color-${a}`]:oe}),ye={};a&&!oe&&(ye.color=a,ye.background=a);const Pe=Y(N,{[`${N}-status`]:be,[`${N}-not-a-wrapper`]:!h,[`${N}-rtl`]:V==="rtl"},M,L,y==null?void 0:y.className,(r=y==null?void 0:y.classNames)===null||r===void 0?void 0:r.root,S==null?void 0:S.root,et);if(!h&&be){const E=ae.color;return ne(m.createElement("span",Object.assign({},X,{className:Pe,style:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.root),(l=y==null?void 0:y.styles)===null||l===void 0?void 0:l.root),ae)}),m.createElement("span",{className:lt,style:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.indicator),(d=y==null?void 0:y.styles)===null||d===void 0?void 0:d.indicator),ye)}),u&&m.createElement("span",{style:{color:E},className:`${N}-status-text`},u)))}return ne(m.createElement("span",Object.assign({ref:n},X,{className:Pe,style:Object.assign(Object.assign({},(o=y==null?void 0:y.styles)===null||o===void 0?void 0:o.root),O==null?void 0:O.root)}),h,m.createElement(mt,{visible:!U,motionName:`${N}-zoom`,motionAppear:!1,motionDeadline:1e3},E=>{let{className:at,ref:ot}=E;var fe,ve;const dt=J("scroll-number",x),Ce=Te.current,it=Y(S==null?void 0:S.indicator,(fe=y==null?void 0:y.classNames)===null||fe===void 0?void 0:fe.indicator,{[`${N}-dot`]:Ce,[`${N}-count`]:!Ce,[`${N}-count-sm`]:g==="small",[`${N}-multiple-words`]:!Ce&&je&&je.toString().length>1,[`${N}-status-${i}`]:!!i,[`${N}-color-${a}`]:oe});let de=Object.assign(Object.assign(Object.assign({},O==null?void 0:O.indicator),(ve=y==null?void 0:y.styles)===null||ve===void 0?void 0:ve.indicator),ae);return a&&!oe&&(de=de||{},de.background=a),m.createElement(Bt,{prefixCls:dt,show:!U,motionClassName:at,className:it,count:je,title:rt,style:de,key:"scrollNumber",ref:ot},nt)}),st))},Je=m.forwardRef(Wt);Je.Ribbon=Lt;const Ne=Je;function Gt({data:t,vatAmount:n,title:s}){var g,p,v,$,M,L;const{currencySymbol:r,currencyName:l}=K()||{},d=T(S=>{var O;return(O=S==null?void 0:S.setting)==null?void 0:O.data})||null,o=R(),c=Ge(Math.round((t.totalAmount||0)-(t.discount||0))),x=Ie(r),h=[{label:"IN WORDS: ",value:`${c.toUpperCase()} ${l}`||""},{label:"Terms And Conditions: ",value:t.termsAndConditions?t.termsAndConditions:""},{label:"Notes: ",value:t.note?t.note:""}],i=[{label:"Total:",value:`${x} ${t.totalAmount-n}`},{label:"Sub Total:",value:`${x} ${t.totalAmount}`},{label:"Discount: (-)",value:`${x} ${t.discount?t.discount:0}`},{label:"Grand total:",value:`${x} ${t.totalAmount-(t.discount?t.discount:0)}`},{label:"Paid:",value:`${x} ${t.paidAmount}`},{label:"Due:",value:`${x} ${t.due}`}],u=["SI","Product Description","Quantity","Unit Price","Total Price"],a=t.cartOrderProduct.map(S=>[S.id,S.product.name,S.productQuantity,`${x} ${S.productSalePrice}`,`${x} ${S.productSalePrice*S.productQuantity}`]),b=[{value:`Client Id: ${t!=null&&t.customerId?t==null?void 0:t.customerId:"-"}`},{value:`Client Name: ${(g=t==null?void 0:t.customer)!=null&&g.username?(p=t==null?void 0:t.customer)==null?void 0:p.username:""}`},{value:`Address: ${(v=t==null?void 0:t.customer)!=null&&v.address?($=t==null?void 0:t.customer)==null?void 0:$.address:"-"}`},{value:`Contact No: ${(M=t==null?void 0:t.customer)!=null&&M.phone?(L=t==null?void 0:t.customer)==null?void 0:L.phone:"-"}`}],f=[{value:`Invoice No: ${t!=null&&t.id?t==null?void 0:t.id:"-"}`},{value:`Invoice Date: ${I(t==null?void 0:t.date).format("YYYY-MM-DD")}`}],j={jsPDF:{},tableFontSize:10,infoTopFontSize:10,bottomRightFontSize:12,bottomLeftFontSize:8,footerFontSize:10};return m.useEffect(()=>{!d&&o(_e())},[o,d]),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"bg-primary flex justify-center items-center px-4 py-2 text-white rounded",onClick:()=>De("print",{title:s,TopRightInfo:f,customerInfo:b,companyInfo:d,bottomLeftContent:h,bottomRightContent:i,tableBody:a,tableHead:u,settings:j,leftBottomSecondColumnX:32}),children:"Print Invoice"})})}function Qt({data:t,title:n}){var a,b,f;const{currencySymbol:s}=K()||{},r=T(j=>{var g;return(g=j==null?void 0:j.setting)==null?void 0:g.data})||null,l=R();Ge(Math.round((t.totalAmount||0)-(t.discount||0))),Ie(s);const d=[],o=[],c=["SI","Product Description","Quantity"],x=t.cartOrderProduct.map(j=>[j.id,j.product.name,j.productQuantity]),h=[{value:`Client Id: ${t==null?void 0:t.customerId}`},{value:`Client Name: ${(a=t==null?void 0:t.customer)==null?void 0:a.username}`},{value:`Address: ${(b=t==null?void 0:t.customer)==null?void 0:b.address}`},{value:`Contact No: ${(f=t==null?void 0:t.customer)==null?void 0:f.phone}`}],i=[{value:`Invoice No: ${t==null?void 0:t.id}`},{value:`Invoice Date: ${I(t==null?void 0:t.date).format("YYYY-MM-DD")}`}],u={jsPDF:{},tableFontSize:10,infoTopFontSize:10,bottomRightFontSize:12,bottomLeftFontSize:8,footerFontSize:10};return m.useEffect(()=>{!r&&l(_e())},[l,r]),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"bg-primary flex justify-center items-center px-4 py-2 text-white rounded",onClick:()=>De("print",{title:n,TopRightInfo:i,customerInfo:h,companyInfo:r,bottomLeftContent:d,bottomRightContent:o,tableBody:x,tableHead:c,settings:u}),children:"Print Packing Slip"})})}function F(){return e.jsx(e.Fragment,{})}function Zt({list:t}){const n=[{title:"ID",dataIndex:"productId",key:"productId"},{title:"Name",dataIndex:"product",render:r=>e.jsx(P,{to:`/admin/product/${r.id}`,children:r.name})},{title:"Product Quantity",dataIndex:"productQuantity",key:"productQuantity"},{title:"Product  Unit Price",dataIndex:"productSalePrice",key:"productSalePrice"},{title:"Color",key:"colors",render:r=>{var l,d,o,c,x,h,i;return e.jsx(e.Fragment,{children:(l=r==null?void 0:r.colors)!=null&&l.name?e.jsx("span",{style:{backgroundColor:((d=r==null?void 0:r.colors)==null?void 0:d.name)=="White"?"#000000":`rgba(${parseInt((o=r==null?void 0:r.colors)==null?void 0:o.colorCode.slice(1,3),16)}, ${parseInt((c=r==null?void 0:r.colors)==null?void 0:c.colorCode.slice(3,5),16)}, ${parseInt((x=r==null?void 0:r.colors)==null?void 0:x.colorCode.slice(5,7),16)}, 0.2)`,color:(h=r==null?void 0:r.colors)==null?void 0:h.colorCode},className:"px-2 pb-[2px] rounded-sm font-semibold",children:(i=r==null?void 0:r.colors)==null?void 0:i.name}):"-"})}},{title:"Attribute",key:"attribute",render:({cartOrderAttributeValue:r})=>e.jsx("div",{className:"flex flex-col md:flex-row",children:r.length>0?r.map(l=>e.jsxs("span",{className:" bg-gray-200 mx-[2px] p-1 m-1 rounded-sm text-gray-600",children:[`${l.productAttributeValue.productAttribute.name}: `,e.jsx("span",{className:"font-medium",children:`${l.productAttributeValue.name}`})]},l.id)):"-"})},{title:"Total Price ",key:"Total Price ",dataIndex:"",render:({productQuantity:r,productSalePrice:l,remainQuantity:d,returnQuantity:o})=>o?d*l:l*r},{title:"Action",key:"action",render:({productId:r})=>e.jsx(re,{path:`/admin/product/${r}`})}],s=r=>r.map(l=>({...l,key:l.id}));return e.jsx(ue,{children:e.jsx(me,{span:24,className:"mt-2",children:e.jsx(q,{className:"header-solid h-full",bordered:!1,title:[e.jsx("h4",{className:"font-semibold text-xl m-0 text-center",children:"Products Information"})],bodyStyle:{paddingTop:"0"},children:e.jsx("div",{className:"col-info",children:e.jsx(xe,{scroll:{x:!0},loading:!t,columns:n,dataSource:t?s(t):[]})})})})})}function qt({deliveryFee:t,invoiceId:n}){const s=R(),{Option:r}=D,[l]=w.useForm(),[d,o]=m.useState(!1),[c,x]=m.useState(),[h,i]=m.useState(!1),{list:u,loading:a}=T(g=>g.courierMedium);m.useEffect(()=>{i(!1),s(xt())},[s]);const b=()=>{o(!0)},f=()=>{o(!1)},j=async g=>{var v;i(!0),((v=(await s(pt({...g,invoiceId:n}))).payload)==null?void 0:v.message)==="success"?(i(!1),s(ze(n)),o(!1)):i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(te,{type:"dashed",onClick:b,children:"Update Status"}),e.jsx(we,{title:"Update Order Status",open:d,onCancel:f,footer:!1,children:e.jsxs(w,{form:l,name:"basic",initialValues:{deliveryFee:t},layout:"vertical",onFinish:j,children:[e.jsxs("h1",{className:"text-lg text-center font-semibold text-gray-600",children:["Order ID : ",n]}),e.jsx(w.Item,{name:"orderStatus",label:"Update Order Status",rules:[{required:!0,message:"Please select order status!"}],children:e.jsxs(D,{placeholder:"Select Order Status",style:{width:"100%"},onChange:g=>x(g),allowClear:!0,children:[e.jsx(r,{value:"PENDING",children:"Pending"}),e.jsx(r,{value:"RECEIVED",children:"Received"}),e.jsx(r,{value:"DELIVERED",children:"Delivered"}),e.jsx(r,{value:"CANCELLED",children:"Cancelled"})]})}),c==="RECEIVED"&&e.jsxs(e.Fragment,{children:[e.jsx(w.Item,{style:{marginBottom:"15px"},label:"Courier Medium",name:"courierMediumId",rules:[{required:!0,message:"please select courier medium"}],children:e.jsx(D,{showSearch:!0,loading:a,placeholder:"Select Courier Medium",optionFilterProp:"children",filterOption:(g,p)=>p.children.includes(g),filterSort:(g,p)=>g.children.toLowerCase().localeCompare(p.children.toLowerCase()),children:u==null?void 0:u.map(g=>e.jsx(D.Option,{value:g.courierMediumId,children:g.courierMediumName},g.id))})}),e.jsx(w.Item,{label:"Delivery Charge",name:"deliveryFee",children:e.jsx(Dt,{disabled:!0,size:"small",placeholder:"e.g. 100"})})]}),e.jsx(w.Item,{children:e.jsx(te,{htmlType:"submit",loading:h,className:"w-full",type:"primary",children:"Submit"})})]})})]})}function Kt({list:t}){const[n,s]=m.useState([]),r=[{id:1,title:"ID",dataIndex:"id",key:"id",render:o=>e.jsx(P,{to:`/admin/transaction/${o}`,children:o})},{id:2,title:"Date",dataIndex:"date",key:"date",render:o=>I(o).format("DD/MM/YYYY")},{id:3,title:"Debit",dataIndex:"debit",key:"debit",render:o=>e.jsx(P,{to:`/admin/account/${o.id}`,children:o.name})},{id:4,title:"Credit",dataIndex:"credit",key:"credit",render:o=>e.jsx(P,{to:`/admin/account/${o.id}`,children:o.name})},{id:5,title:"Amount",dataIndex:"amount",key:"amount"},{id:6,title:"Type ",dataIndex:"type",key:"type"},{id:7,title:"Particulars",dataIndex:"particulars",key:"particulars"},{id:8,title:"Action",key:"action",render:({id:o})=>e.jsx(re,{path:`/admin/transaction/${o}`})}];m.useEffect(()=>{s(r)},[]);const l=o=>{s(o)},d=o=>o.map(c=>({...c,key:c.id}));return e.jsx(ue,{children:e.jsx(me,{span:24,className:"mt-2",children:e.jsxs(q,{className:"header-solid h-full",bordered:!1,title:e.jsx("h6",{className:"font-semibold m-0 text-center",children:"Transaction Information"}),bodyStyle:{paddingTop:"0"},children:[t&&e.jsx("div",{className:"my-3",children:e.jsx(wt,{options:r,columns:r,columnsToShowHandler:l})}),e.jsx(xe,{scroll:{x:!0},loading:!t,columns:n,dataSource:t?d(t):[]})]})})})}function Xt({list:t}){const n=[{title:"Order#",dataIndex:"cartOrderId",key:"cartOrderId"},{title:"Product Name",dataIndex:"returnCartOrderProduct",key:"returnCartOrderProduct",render:s=>{var r,l,d,o;return e.jsx(P,{to:`/admin/product/${(l=(r=s[0])==null?void 0:r.product)==null?void 0:l.id}`,children:(o=(d=s[0])==null?void 0:d.product)==null?void 0:o.name})}},{title:"Return Type",dataIndex:"returnType",key:"returnType"},{title:"Status",dataIndex:"returnCartOrderStatus",key:"returnCartOrderStatus"},{title:"Qty",dataIndex:"returnCartOrderProduct",key:"returnCartOrderProduct",render:s=>s[0].productQuantity},{title:"Amount",dataIndex:"totalAmount",key:"totalAmount",render:s=>s.toFixed(2)},{title:" Date",dataIndex:"createdAt",key:"createdAt",render:s=>I(s).format("DD/MM/YY")}];return e.jsx(ue,{children:e.jsx(me,{span:24,className:"mt-2",children:e.jsx(q,{className:"header-solid h-full",bordered:!1,title:[e.jsx("h4",{className:"font-semibold text-xl m-0 text-center",children:"Return Product Information"})],bodyStyle:{paddingTop:"0"},children:e.jsx("div",{className:"col-info",children:e.jsx(xe,{className:"my-5",columns:n,loading:!t,dataSource:!!(t!=null&&t.length)&&t.map(s=>({...s,key:s==null?void 0:s.id})),pagination:!1,scroll:{x:400}})})})})})}function Jt(){var d,o,c,x,h,i,u,a,b,f,j,g,p,v,$,M,L,S,O,H,X,J,V,y;const{id:t}=Oe(),n=K(),s=R(),{sale:r,loading:l}=T(N=>N.ESale);return m.useEffect(()=>(s(ze(t)),()=>{s(ht())}),[s,t]),e.jsx("div",{children:e.jsx("div",{children:r?e.jsxs(m.Fragment,{children:[e.jsxs(q,{bordered:!1,className:"card-custom",children:[e.jsxs("h5",{className:"flex justify-start items-center gap-2 text-xl",children:[e.jsx(Ue,{}),e.jsxs("span",{className:"mr-left",children:["ID : ",r.singleCartOrder.id," "]})]}),e.jsxs("div",{className:" flex justify-center mt-5 flex-wrap gap-2",children:[e.jsx("div",{children:(r==null?void 0:r.singleCartOrder)&&e.jsx(Gt,{data:r.singleCartOrder,vatAmount:r.totalVatAmount,title:"Order Invoice"})}),e.jsx("div",{children:(r==null?void 0:r.singleCartOrder)&&e.jsx(Qt,{title:"Order packing Slip",data:r.singleCartOrder})}),e.jsx("div",{className:"text-end mr-2",children:e.jsx(qt,{deliveryFee:r.deliveryFee,invoiceId:r.singleCartOrder.id})})]}),e.jsxs("div",{className:"card-body mt-5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-10",children:[e.jsxs("div",{className:"w-full flex flex-col gap-5",children:[e.jsx(Ne.Ribbon,{text:r.status,color:r.status==="PAID"?"green":"red",children:e.jsx(Ne.Ribbon,{text:r.singleCartOrder.orderStatus,color:r.singleCartOrder.orderStatus==="DELIVERED"?"success":"orange",className:"mt-10",children:e.jsxs(F,{title:"Sale Invoice Information ",children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Total Amount :"})," ",e.jsxs("strong",{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),(d=r.singleCartOrder)!=null&&d.totalAmount?Number(r.singleCartOrder.totalAmount).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Due Amount :"})," ",e.jsxs("strong",{style:{color:"red"},children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),(o=r.singleCartOrder)!=null&&o.due?Number(r.singleCartOrder.due).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Paid Amount :"})," ",e.jsxs("strong",{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),(c=r.singleCartOrder)!=null&&c.paidAmount?Number(r.singleCartOrder.paidAmount).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Discount :"})," ",e.jsxs("strong",{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),(x=r.singleCartOrder)!=null&&x.discount?Number(r.singleCartOrder.discount).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Delivery Fee :"})," ",e.jsxs("strong",{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),r.deliveryFee?Number(r.deliveryFee).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Profit :"})," ",e.jsxs("strong",{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),(h=r.singleCartOrder)!=null&&h.profit?Number(r.singleCartOrder.profit).toFixed(2):0]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Sale Date :"})," ",e.jsx("strong",{children:r.singleCartOrder.createdAt.slice(0,10)})]})]})})}),e.jsxs(F,{title:"Customer Information",children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Customer Name :"})," ",e.jsx("strong",{children:e.jsx(P,{to:`/admin/customer/${(i=r==null?void 0:r.singleCartOrder)==null?void 0:i.customerId}`,children:He(r.singleCartOrder.customer)})})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Phone :"})," ",e.jsx("strong",{children:r.singleCartOrder.customer.phone})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Address :"})," ",e.jsx("strong",{children:r.singleCartOrder.customer.address})]})]})]}),e.jsxs("div",{className:"w-full flex flex-col gap-5",children:[e.jsxs(F,{title:"Delivery Information",children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Delivery Area :"})," ",e.jsxs("strong",{children:[(a=(u=r.singleCartOrder)==null?void 0:u.deliveryFee)==null?void 0:a.deliveryArea," (",e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}})," ",(f=(b=r.singleCartOrder)==null?void 0:b.deliveryFee)==null?void 0:f.deliveryFee,")"]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Delivery Address :"})," ",e.jsx("strong",{children:r.singleCartOrder.deliveryAddress})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Customer Phone :"})," ",e.jsx("strong",{children:r.singleCartOrder.customerPhone})]}),((g=(j=r.singleCartOrder)==null?void 0:j.courierMedium)==null?void 0:g.courierMediumName)&&e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"text-[16px] font-medium py-3",children:[" ","Assigned Delivery Media"]}),e.jsx("hr",{}),e.jsxs("p",{className:"pt-3",children:[e.jsx(C.Text,{strong:!0,children:((v=(p=r.singleCartOrder)==null?void 0:p.courierMedium)==null?void 0:v.type)==="courier"?"Courier:":"Delivery Man:"})," ",e.jsx("strong",{children:(M=($=r.singleCartOrder)==null?void 0:$.courierMedium)==null?void 0:M.courierMediumName})]})]}),((S=(L=r.singleCartOrder)==null?void 0:L.courierMedium)==null?void 0:S.phone)&&e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:((H=(O=r.singleCartOrder)==null?void 0:O.courierMedium)==null?void 0:H.type)==="courier"?"Courier Phone :":"Phone: "})," ",e.jsxs("strong",{children:[(J=(X=r.singleCartOrder)==null?void 0:X.courierMedium)==null?void 0:J.phone," "]})]})]}),(y=(V=r.singleCartOrder)==null?void 0:V.manualPayment)==null?void 0:y.map((N,ne)=>e.jsxs(F,{title:e.jsxs("div",{className:"flex justify-between items-center overflow-auto gap-2",children:[e.jsx("p",{children:"Payment Method Information"}),e.jsx(Ot,{data:N,id:t})]}),children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Payment Method :"})," ",e.jsx("strong",{children:N.paymentMethod.methodName})]}),N.customerTransactionId&&e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"TRX ID :"})," ",e.jsx("strong",{children:N.customerTransactionId})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Amount :"})," ",e.jsxs("strong",{children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:n==null?void 0:n.currencySymbol}}),N.amount]})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Payment Status :"})," ",e.jsx("strong",{className:` uppercase rounded-sm px-2 py-[2px] ${N.isVerified=="Pending"&&"text-orange-500 bg-orange-500/10"}
                 
                  ${N.isVerified=="Accept"&&"text-green-500 bg-green-500/10"}
                  ${N.isVerified=="Reject"&&"text-red-500 bg-red-500/10"}
                    `,children:N.isVerified})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Payment Date :"})," ",e.jsx("strong",{children:I(N.createdAt).format("MMMM Do YYYY, h:mm:ss a")})]})]},ne))]})]}),e.jsx("br",{})]})]}),e.jsx(Zt,{list:r.singleCartOrder.cartOrderProduct}),(r==null?void 0:r.returnSingleCartOrder.length)>0&&e.jsx(Xt,{list:r.returnSingleCartOrder}),e.jsx(Kt,{list:r.transactions})]},r.singleCartOrder.id):e.jsx(We,{})})})}const er=({information:t,count:n})=>{const s=K();return e.jsx(m.Fragment,{children:e.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-600 bg-violet-100 rounded-lg mr-6",children:e.jsx(Qe,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.totalAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-violet-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[" ",e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.totalAmount?A(Number(t.totalAmount)):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Orders"," ",e.jsxs("span",{className:"text-violet-600",children:["#",n?A(n):0]})]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-500 bg-violet-100 rounded-lg mr-6",children:e.jsx(Ze,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.paidAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-violet-500 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.paidAmount?A(Number(t.paidAmount)):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Order Paid"," "]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:e.jsx(qe,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.dueAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.dueAmount?A(t==null?void 0:t.dueAmount):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Order Due"," "]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:e.jsx(Ke,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.returnPaidAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.returnPaidAmount?A(t==null?void 0:t.returnPaidAmount):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Order Return"]})]})})]})]})})},tr=er;function rr(){var u;const t=R(),{list:n,total:s,loading:r,info:l}=T(a=>a.ESale),{RangePicker:d}=ce,[o,c]=m.useState({page:1,count:10,status:"true",startDate:I().startOf("month").format("YYYY-MM-DD"),endDate:I().endOf("month").format("YYYY-MM-DD")}),x=[{id:1,title:"Invoice No",dataIndex:"id",key:"id",render:(a,{id:b})=>e.jsx(P,{to:`/admin/order/${b}`,children:b}),renderCsv:a=>a},{id:2,title:"Date",dataIndex:"date",key:"date",render:a=>I(a).format("ll"),renderCsv:a=>I(a).format("ll")},{id:4,title:"Total Amount",dataIndex:"totalAmount",key:"totalAmount",render:a=>a.toFixed(2),renderCsv:a=>a.toFixed(2)},{id:6,title:"Due Amount",dataIndex:"dueAmount",key:"dueAmount",responsive:["md"],render:a=>a.toFixed(2),renderCsv:a=>a.toFixed(2)},{id:7,title:"Paid Amount",dataIndex:"paidAmount",key:"paidAmount",responsive:["md"],render:a=>a.toFixed(2),renderCsv:a=>a.toFixed(2)},{id:9,title:"Customer",dataIndex:"customer",key:"customer",render:a=>a==null?void 0:a.username,renderCsv:a=>a==null?void 0:a.username},{id:9,title:"Re Ordered",dataIndex:"isReOrdered",key:"Re Ordered",width:"120px"},{id:9,title:"Status",width:"150px",dataIndex:"orderStatus",key:"orderStatus",render:a=>e.jsx("span",{className:` rounded px-2 py-[1px] text-ePrimary bg-ePrimary/10 ${a=="PENDING"&&"text-orange-500 bg-orange-500/10"}
                  ${a=="RECEIVED"&&"text-ePrimary bg-ePrimary/10"}
                  ${a=="DELIVERED"&&"text-green-500 bg-green-500/10"}
                  ${a=="CANCELLED"&&"text-red-500 bg-red-500/10"}
                    `,children:a}),renderCsv:a=>a},{id:10,title:"Action",width:"80px",dataIndex:"id",key:"payment",render:a=>e.jsx("div",{className:"flex ",children:e.jsx(re,{path:`/admin/order/${a}`})}),csvOff:!0}],h=[{key:"orderStatus",label:"Order status",type:"select",options:[{label:"Pending",value:"PENDING"},{label:"Received",value:"RECEIVED"},{label:"Packed",value:"PACKED"},{label:"Shipped",value:"SHIPPED"},{label:"Delivered",value:"DELIVERED"},{label:"Cancelled",value:"CANCELLED"}],className:"min-w-[120px] max-w-[150px]",popupClassName:"w-[150px]"}],i=a=>{const b=a[0].format("YYYY-MM-DD"),f=a[1].format("YYYY-MM-DD");c(j=>({...j,startDate:b,endDate:f}))};return m.useEffect(()=>{t(gt(o))},[t,o]),e.jsx("div",{className:"card card-custom mt-2",children:e.jsxs("div",{className:"card-body",children:[e.jsx(tr,{information:l==null?void 0:l._sum,count:(u=l==null?void 0:l._count)==null?void 0:u.id}),e.jsx("br",{}),e.jsx(se,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Order list",extra:e.jsx(d,{className:"range-picker ",onCalendarChange:i,defaultValue:[Q(o.startDate,"YYYY-MM-DD"),Q(o.endDate,"YYYY-MM-DD")]}),children:e.jsx(pe,{permission:"readAll-cartOrder",children:e.jsx(he,{list:n,columns:x,loading:r,total:s,setPageConfig:c,title:"Order List",filters:h,isSearch:!0})})})]})})}function sr(){const t=R(),{resend:n,loading:s}=T(d=>d.returnOrder),r=async(d,o)=>{(await t(bt({cartOrderId:d,returnCartOrderId:o}))).payload.message=="success"&&t(Me())},l=[{id:2,title:"Order Id",dataIndex:"cartOrderId",key:"cartOrderId",render:d=>e.jsx(P,{to:`/admin/order/${d}`,children:d}),renderCsv:d=>d},{id:3,title:"Status",dataIndex:"returnCartOrderStatus",key:"returnCartOrderStatus"},{id:4,title:"Total Amount",dataIndex:"totalAmount",key:"totalAmount",render:d=>d.toFixed(2),renderCsv:d=>d.toFixed(2)},{id:5,title:"Return Type",dataIndex:"returnType",key:"returnType"},{id:6,title:"Note",dataIndex:"note",key:"note",render:d=>G(d,20),renderCsv:d=>G(d,20)},{id:7,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:d=>I(d).format("DD/MM/YYYY"),renderCsv:d=>I(d).format("DD/MM/YYYY")},{id:7,title:"Action",dataIndex:"cartOrderId",key:"cartOrderId",render:(d,{id:o})=>e.jsx("button",{onClick:()=>r(d,o),className:"py-1 px-2 rounded bg-ePrimary font-medium text-white hover:bg-ePrimary/80",children:"Reorder"}),csvOff:!0}];return m.useEffect(()=>{t(Me())},[t]),e.jsx("div",{children:e.jsx(se,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Resend Return list",children:e.jsx(pe,{permission:"readAll-purchaseInvoice",children:e.jsx(he,{list:n,columns:l,loading:s,title:"resend return List"})})})})}function nr({list:t}){const n=[{title:"ID",dataIndex:"productId",key:"productId"},{title:"Return Id",dataIndex:"returnCartOrderId",key:"returnCartOrderId"},{title:"Name",dataIndex:"product",render:r=>e.jsx(P,{to:`/admin/product/${r.id}`,children:r.name})},{title:"Product Quantity",dataIndex:"productQuantity",key:"productQuantity"},{title:"Product Price",dataIndex:"productSalePrice",key:"productSalePrice",render:r=>r.toFixed(2)},{title:"Created At",key:"createdAt",render:r=>I(r).format("DD/MM/YY")},{title:"Action",key:"action",render:({productId:r})=>e.jsx(re,{path:`/admin/product/${r}`})}],s=r=>r.map(l=>({...l,key:l.id}));return e.jsx(ue,{children:e.jsx(me,{span:24,className:"mt-2",children:e.jsx(q,{className:"header-solid h-full",bordered:!1,title:e.jsx("h4",{className:"font-semibold text-xl m-0 text-center",children:"Products Information"}),bodyStyle:{paddingTop:"0"},children:e.jsx("div",{className:"col-info",children:e.jsx(xe,{scroll:{x:!0},loading:!t,columns:n,dataSource:t?s(t):[]})})})})})}function lr({data:t}){const n=R(),{Option:s}=D,{id:r}=Oe(),[l]=w.useForm(),[d,o]=m.useState(!1),[c,x]=m.useState(!1),h=()=>{o(!0)},i=()=>{o(!1)},u=async a=>{x(!0);try{(await n(jt({values:a,id:r}))).payload.message=="success"&&(x(!1),o(!1),n(Ve(r))),x(!1)}catch{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(te,{type:"dashed",onClick:h,children:"Update Status"}),e.jsx(we,{title:"Update Return Order Status",open:d,onCancel:i,footer:!1,children:e.jsxs(w,{form:l,name:"basic",layout:"vertical",onFinish:u,children:[e.jsxs("h1",{className:"text-lg text-center font-semibold text-gray-600",children:["Return ID : ",t.id]}),t.returnType=="PRODUCT"?e.jsx(w.Item,{name:"returnCartOrderStatus",label:"Update Return Status",rules:[{required:!0,message:"Please select return status!"}],children:e.jsxs(D,{placeholder:"Select Return Status",style:{width:"100%"},allowClear:!0,children:[e.jsx(s,{value:"PENDING",children:"Pending"}),e.jsx(s,{value:"RECEIVED",children:"Received"}),e.jsx(s,{value:"RESEND",children:"Resend"}),e.jsx(s,{value:"RESENDED",children:"Resended"})]})}):e.jsx(w.Item,{name:"returnCartOrderStatus",label:"Update Return Status",rules:[{required:!0,message:"Please select return status!"}],children:e.jsxs(D,{placeholder:"Select Return Status",style:{width:"100%"},allowClear:!0,children:[e.jsx(s,{value:"PENDING",children:"Pending"}),e.jsx(s,{value:"RECEIVED",children:"Received"}),e.jsx(s,{value:"REFUNDED",children:"Refunded"})]})}),e.jsx(w.Item,{children:e.jsx(te,{loading:c,htmlType:"submit",className:"w-full",type:"primary",children:"Submit"})})]})})]})}function ar(){const{id:t}=Oe(),n=R(),{returnOrder:s,loading:r}=T(l=>l.returnOrder);return m.useEffect(()=>{n(Ve(t))},[n,t]),e.jsx("div",{children:s?e.jsxs(m.Fragment,{children:[e.jsxs(q,{bordered:!1,className:"card-custom",children:[e.jsxs("h5",{className:"flex justify-start items-center gap-2 text-xl",children:[e.jsx(Ue,{}),e.jsxs("span",{className:"mr-left",children:["ID : ",s.id," "]})]}),e.jsx("div",{className:"card-header flex justify-center ",children:e.jsx("div",{className:"text-end mr-2",children:e.jsx(lr,{data:s})})}),e.jsxs("div",{className:"card-body mt-5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-10",children:[e.jsx("div",{className:"w-full flex flex-col gap-5",children:e.jsxs(Ne.Ribbon,{text:s.returnCartOrderStatus,color:s.returnCartOrderStatus==="DELIVERED"?"success":"orange",children:[" ",e.jsxs(F,{title:"Return Information",children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Order Id :"})," ",e.jsx("strong",{children:e.jsx(P,{to:`/admin/order/${s.cartOrderId}`,children:s.cartOrderId})})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Return Type :"})," ",e.jsx("strong",{children:s.returnType})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Return Status :"})," ",e.jsx("strong",{children:s.returnCartOrderStatus})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Return Date :"})," ",e.jsx("strong",{children:I(s.createdAt).format("MMMM Do YYYY, h:mm:ss a")})]})]})]})}),e.jsx("div",{className:"w-full flex flex-col gap-5",children:e.jsxs(F,{title:"Return  Amount Information",children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Total Amount :"})," ",e.jsx("strong",{children:s.totalAmount.toFixed(2)})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Total Vat :"})," ",e.jsx("strong",{children:s.totalVatAmount})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Discount Amount :"})," ",e.jsx("strong",{children:s.totalDiscountAmount})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:" Coupon Amount:"})," ",e.jsx("strong",{children:s.couponAmount})]})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-10",children:[e.jsx("div",{className:"w-full flex flex-col mt-5",children:e.jsx(F,{title:"Return  Note Information",children:e.jsx("p",{children:e.jsx("p",{className:"font-medium",children:s.note})})})}),e.jsx("div",{className:"w-full flex flex-col mt-5",children:e.jsxs(F,{title:"Customer Information",children:[e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Customer Name :"})," ",e.jsx("strong",{children:e.jsx(P,{to:`/admin/hr/staffs/${s.cartOrder.customerId}`,children:He(s.cartOrder.customer)})})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Phone :"})," ",e.jsx("strong",{children:s.cartOrder.customer.phone})]}),e.jsxs("p",{children:[e.jsx(C.Text,{strong:!0,children:"Address :"})," ",e.jsx("strong",{children:s.cartOrder.customer.address})]})]})})]})]})]}),e.jsx(nr,{list:s.returnCartOrderProduct})]},s.id):e.jsx(We,{})})}const or=({information:t,count:n})=>{const s=K();return e.jsx(m.Fragment,{children:e.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-600 bg-violet-100 rounded-lg mr-6",children:e.jsx(Qe,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.totalAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-violet-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[" ",e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.totalAmount?A(Number(t.totalAmount)):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Return Orders"," ",e.jsxs("span",{className:"text-violet-600",children:["#",n?A(n):0]})]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-500 bg-violet-100 rounded-lg mr-6",children:e.jsx(Ze,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.totalReturnPaidAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-violet-500 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.totalReturnPaidAmount?A(Number(t.totalReturnPaidAmount)):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Return Paid"," "]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:e.jsx(qe,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.totalReturnDiscountAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.totalReturnDiscountAmount?A(t==null?void 0:t.totalReturnDiscountAmount):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Return Discount"," "]})]})})]}),e.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[e.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:e.jsx(Ke,{size:30})}),e.jsx("div",{children:e.jsxs(k,{title:e.jsxs("span",{className:"text-lg",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t==null?void 0:t.totalReturnVatAmount.toFixed(3)]}),children:[e.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.currencySymbol}}),t!=null&&t.totalReturnVatAmount?A(t==null?void 0:t.totalReturnVatAmount):0]}),e.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Return Vat"]})]})})]})]})})},dr=or;function ir(){var u;const t=R(),{list:n,total:s,loading:r,info:l}=T(a=>a.returnOrder),{RangePicker:d}=ce,[o,c]=m.useState({page:1,count:10,status:"true",startDate:I().startOf("month").format("YYYY-MM-DD"),endDate:I().endOf("month").format("YYYY-MM-DD")}),x=[{id:1,title:"Order Id",dataIndex:"cartOrderId",key:"cartOrderId"},{id:2,title:"Return Type",dataIndex:"returnType",key:"returnType"},{id:3,title:"Note",dataIndex:"note",key:"note"},{id:4,title:"Status",dataIndex:"returnCartOrderStatus",key:"returnCartOrderStatus",render:a=>e.jsx("span",{className:` rounded px-2 py-[1px] text-ePrimary bg-ePrimary/10 ${a=="PENDING"&&"text-orange-500 bg-orange-500/10"}
                  ${a=="RECEIVED"&&"text-ePrimary bg-ePrimary/10"}
                  ${a=="DELIVERED"&&"text-green-500 bg-green-500/10"}
                  ${a=="CANCELLED"&&"text-red-500 bg-red-500/10"}
                    `,children:a}),renderCsv:a=>a},{id:10,title:"Action",dataIndex:"id",key:"payment",render:a=>e.jsx("div",{className:"flex ",children:e.jsx(re,{path:`/admin/return-order/${a}`})}),csvOff:!0}],h=[{key:"returnCartOrderStatus",label:"Order Status",type:"select",options:[{label:"Pending",value:"PENDING"},{label:"Received",value:"RECEIVED"},{label:"Refunded",value:"REFUNDED"},{label:"Resend",value:"RESEND"},{label:"Resended",value:"RESENT"}],className:"min-w-[120px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}],i=a=>{const b=a[0].format("YYYY-MM-DD"),f=a[1].format("YYYY-MM-DD");c(j=>({...j,startDate:b,endDate:f}))};return m.useEffect(()=>{t(yt(o))},[t,o]),e.jsx("div",{className:"card card-custom mt-2",children:e.jsxs("div",{className:"card-body",children:[(l==null?void 0:l._count)&&(l==null?void 0:l._sum)&&e.jsx(dr,{count:(u=l._count)==null?void 0:u.id,sum:l._sum}),e.jsx("br",{}),e.jsx(se,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Return Order list",extra:e.jsx(d,{className:"range-picker ",onCalendarChange:i,defaultValue:[Q(o.startDate,"YYYY-MM-DD"),Q(o.endDate,"YYYY-MM-DD")]}),children:e.jsx(pe,{permission:"readAll-cartOrder",children:e.jsx(he,{list:n,columns:x,loading:r,total:s,setPageConfig:c,title:"return Order List",filters:h,isSearch:!0})})})]})})}function ke({data:t,title:n,info:s,type:r,customer:l,pageConfig:d,btnName:o}){const{currencySymbol:c}=K()||{},x=T(p=>{var v;return(v=p==null?void 0:p.setting)==null?void 0:v.data})||null;R();const h=Ie(c),i=[],u=[{label:"Total Quantity: ",value:`${s.totalUnitQuantity?s.totalUnitQuantity:0}`},{label:"Total Coupon: ",value:`${h}${s.totalReturnCouponAmount?s.totalReturnCouponAmount:0}`},{label:"Total Vat: ",value:`${h}${s.totalReturnVatAmount?s.totalReturnVatAmount:0}`},{label:"Total Discount: ",value:`${h}${s.totalReturnDiscountAmount?s.totalReturnDiscountAmount:0}`},{label:"Total Paid: ",value:`${h}${s.totalReturnPaidAmount?s.totalReturnPaidAmount:0}`},{label:"Total: ",value:`${h}${s.totalAmount?s.totalAmount:0}`}],a=["SL","Date","Order Id","Return Type","Note","Status","Vat","Total"],b=t.map((p,v)=>[v+1,I(p.date).format("DD-MM-YYYY"),p.cartOrderId,p.returnType,p.note,p.returnCartOrderStatus,`${h}${p.totalVatAmount?p.totalVatAmount:0}`,`${h}${p.totalAmount?p.totalAmount:0}`]),f=[{value:`Customer:${l?`${l}`:" All"}`},{value:`Return Type: ${d.returnType?d.returnType:"All"}`},{value:`Return Status: ${d.returnCartOrderStatus?d.returnCartOrderStatus:"All"}`}],j=[{value:`From: ${I(d.startDate).format("DD-MM-YYYY")}`},{value:`To: ${I(d.endDate).format("DD-MM-YYYY")}`}],g={jsPDF:{},tableFontSize:10,infoTopFontSize:10,bottomRightFontSize:12,bottomLeftFontSize:8,footerFontSize:10};return e.jsx("div",{className:"flex gap-2",children:e.jsx(ie,{className:"bg-primary flex justify-center items-center px-4 py-2 text-white rounded",onClick:()=>De(r,{title:n,TopRightInfo:j,companyInfo:x,customerInfo:f,bottomLeftContent:i,bottomRightContent:u,tableBody:b,tableHead:a,settings:g}),children:o})})}function cr({setPageConfig:t,pageConfig:n,setCustomer:s}){const r=R(),{list:l,loading:d}=T(i=>i.customers),o=(i,u)=>{t(a=>({...a,[u]:i}))},c=(i,u)=>{const a=i.split(","),b=a[0].trim(),[f,j]=a[1].split(":");f.trim()==="customer"&&s(j.trim()),t(p=>({...p,[u]:b}))},x=i=>{const u=i.format("YYYY-MM-DD");t(a=>({...a,startDate:u}))},h=i=>{const u=i.format("YYYY-MM-DD");t(a=>({...a,endDate:u}))};return m.useEffect(()=>{r(ft({query:"all"})),r(vt({query:"all"}))},[r]),e.jsxs("div",{className:"flex flex-col items-center gap-2 p-5 m-4 rounded bg-white w-2/5",children:[e.jsxs("div",{className:"w-full flex gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-base py-2",children:"Return Status"}),e.jsxs(D,{placeholder:"Return Status",showSearch:!1,allowClear:!0,style:{width:"100%"},maxTagPlaceholder:i=>e.jsxs("div",{className:"",children:[i.length," Selected"]}),maxTagCount:0,onChange:i=>o(i,"returnCartOrderStatus"),children:[e.jsx(D.Option,{value:"PENDING",children:"Pending"}),e.jsx(D.Option,{value:"RECEIVED",children:"Received"}),e.jsx(D.Option,{value:"RESEND",children:"Resend"}),e.jsx(D.Option,{value:"RESENDED",children:"Resended"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-base py-2",children:"Customer"}),e.jsx(D,{placeholder:"Customer",loading:d,allowClear:!0,showSearch:!1,style:{width:"100%"},maxTagPlaceholder:i=>e.jsxs("div",{className:"",children:[i.length," Selected"]}),maxTagCount:0,onChange:i=>c(i,"customerId"),children:l==null?void 0:l.map(i=>e.jsx(D.Option,{value:`${i.id},customer:${i==null?void 0:i.username}`,children:i==null?void 0:i.username},i.id))})]})]}),e.jsxs("div",{className:"w-full flex gap-3",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-base py-2",children:"From"}),e.jsx(ce,{onChange:x,defaultValue:Q(n.startDate,"YYYY-MM-DD")})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-base py-2",children:"To"}),e.jsx(ce,{onChange:h,defaultValue:Q(n.endDate,"YYYY-MM-DD")})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-base py-2",children:"Return Type"}),e.jsxs(D,{placeholder:"Return Type",showSearch:!1,style:{width:"100%"},maxTagPlaceholder:i=>e.jsxs("div",{className:"",children:[i.length," Selected"]}),maxTagCount:0,onChange:i=>o(i,"returnType"),children:[e.jsx(D.Option,{value:"PRODUCT",children:"Product"}),e.jsx(D.Option,{value:"REFUND",children:"Refund"})]})]})]})}function ur(){const t=R(),[n,s]=m.useState(!1),{report:r,loading:l,info:d}=T(u=>u.cartDynamic),[o,c]=m.useState(),[x,h]=m.useState({query:"report",startDate:I().startOf("month").format("YYYY-MM-DD"),endDate:I().endOf("month").format("YYYY-MM-DD")}),i=[{id:1,title:"Order Id",dataIndex:"cartOrderId",key:"cartOrderId"},{id:2,title:"Return Type",dataIndex:"returnType",key:"returnType"},{id:3,title:"Note",dataIndex:"note",key:"note"},{id:4,title:"Status",dataIndex:"returnCartOrderStatus",key:"returnCartOrderStatus",render:u=>e.jsx("span",{className:` rounded px-2 py-[1px] text-ePrimary bg-ePrimary/10 ${u=="PENDING"&&"text-orange-500 bg-orange-500/10"}
                  ${u=="RECEIVED"&&"text-ePrimary bg-ePrimary/10"}
                  ${u=="DELIVERED"&&"text-green-500 bg-green-500/10"}
                  ${u=="CANCELLED"&&"text-red-500 bg-red-500/10"}
                    `,children:u})}];return m.useEffect(()=>{t(Ct(x))},[t,x]),e.jsx("div",{className:"card card-custom mt-3 ",children:e.jsx("div",{className:"card-body",children:e.jsxs(se,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Order Return Report",children:[e.jsx(cr,{setPageConfig:h,pageConfig:x,setCustomer:c}),e.jsx("div",{className:"flex p-5 items-start ",children:e.jsx("div",{children:e.jsx(ie,{onClick:()=>s(!0),className:"px-4 py-2 text-base rounded bg-green-500 text-white",children:"Generate Report"})})}),e.jsxs("div",{className:"flex px-5 items-center gap-2 ",children:[!l&&r?e.jsx(ke,{data:r,info:d,customer:o,title:"Order Return Report",pageConfig:x,type:"print",btnName:"Print"}):e.jsx("div",{children:e.jsx(ie,{loading:l||!r,className:"bg-primary text-white py-[8px] px-4 rounded",children:"Print"})}),!l&&r?e.jsx(ke,{data:r,customer:o,title:"Order Return Report",info:d,pageConfig:x,type:"download",btnName:"Export PDF"}):e.jsx("div",{children:e.jsx(ie,{loading:l||!r,className:"bg-primary text-white py-[8px] px-4 rounded",children:"Export PDF"})}),e.jsx("div",{children:e.jsx(Rt,{className:"px-4 py-2  rounded bg-primary text-white ",list:r,columns:i,title:"Return Order Report",btnName:"Export CSV",children:"Export CSV"})})]}),n&&e.jsx($t,{list:r,columns:i,loading:l})]})})})}function mr({item:t,pageConfig:n}){const s=R(),[r]=w.useForm(),[l,d]=m.useState(),[o,c]=m.useState(!1),x=()=>{c(!0)},h=async u=>{(await s(St({reviewId:t==null?void 0:t.id,...u}))).payload.message=="success"&&(c(!1),d(!1),s(Be(n)))},i=()=>{d(!1)};return m.useEffect(()=>{t.reviewReply.length>0&&r.setFieldsValue({comment:t.reviewReply[0].comment||""})},[r,t.reviewReply]),e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x,className:"bg-[#1890ff] px-3 py-2 text-white rounded-md",style:{fontSize:"15px"},children:"Reply Review"}),e.jsxs(we,{title:e.jsxs("div",{children:[" ",e.jsx("span",{className:"text-gray-500",children:"Review from"})," ",t.customer.username]}),open:o,onCancel:()=>c(!1),footer:!1,children:[e.jsxs("div",{className:"p-3 border rounded mb-10",children:[e.jsx("p",{className:"font-bold",children:"Review:"})," ",e.jsxs("p",{className:"max-h-[200px] overflow-y-auto",children:[t==null?void 0:t.review," "]})]}),e.jsxs(w,{form:r,layout:"vertical",onFinish:h,onFinishFailed:i,autoComplete:"off",labelAlign:"left",children:[e.jsx(w.Item,{style:{marginBottom:"10px"},label:"Replay",name:"comment",required:!0,children:e.jsx(Nt.TextArea,{placeholder:"Write reply"})}),e.jsx(w.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(te,{loading:l,onClick:()=>d(!0),type:"primary",htmlType:"submit",shape:"round",children:"Replay"})})]})]})]})}function xr(){const t=R(),{list:n,loading:s,total:r}=T(c=>c.reviewRating),[l,d]=m.useState({page:1,count:10,status:"true"}),o=[{id:1,title:"ID",dataIndex:"id",key:"id",width:"50px"},{id:2,title:"Product ",dataIndex:"product",key:"product",render:c=>c.name,renderCsv:c=>c.name},{id:3,title:"Rating",dataIndex:"rating",key:"rating"},{id:4,title:"Review Create Date ",dataIndex:"createdAt",key:"createdAt",render:c=>I(c).format("DD/MM/YYYY"),renderCsv:c=>I(c).format("DD/MM/YYYY")},{id:5,title:"Customer ",dataIndex:"customer",key:"customer",render:c=>c.username,renderCsv:c=>c.username},{id:6,title:"Review",dataIndex:"review",key:"review",render:c=>G(c,25),renderCsv:c=>G(c,25)},{id:6,title:"Review",dataIndex:"reviewReply",key:"reply",render:c=>{var x;return G((x=c[0])==null?void 0:x.comment,25)},renderCsv:c=>{var x;return G((x=c[0])==null?void 0:x.comment,25)}},{id:4,title:"Action",key:"Action",render:c=>e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(mr,{item:c,pageConfig:l})}),width:"150px",csvOff:!0}];return m.useEffect(()=>{t(Be(l))},[t,l]),e.jsx(se,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Review",children:e.jsx(pe,{permission:"readAll-reviewRating",children:e.jsx(he,{total:r,columns:o,list:n,loading:s,setPageConfig:d,title:"Review"})})})}function kr(){return e.jsxs(It,{children:[e.jsx(_,{path:"/order",element:e.jsx(z,{permission:"readAll-cartOrder",children:e.jsx(rr,{})})}),e.jsx(_,{path:"/return-order-report",element:e.jsx(z,{permission:"readAll-cartOrder",children:e.jsx(ur,{})})}),e.jsx(_,{path:"/order/:id",element:e.jsx(z,{permission:"readSingle-cartOrder",children:e.jsx(Jt,{})})}),e.jsx(_,{path:"/return-order",element:e.jsx(z,{permission:"readAll-returnCartOrder",children:e.jsx(ir,{})})}),e.jsx(_,{path:"/return-order/:id",element:e.jsx(z,{permission:"readSingle-returnCartOrder",children:e.jsx(ar,{})})}),e.jsx(_,{path:"/resend-return-order",element:e.jsx(z,{permission:"readAll-cartOrder",children:e.jsx(sr,{})})}),e.jsx(_,{path:"/review",element:e.jsx(z,{permission:"readAll-review",children:e.jsx(xr,{})})})]})}export{kr as default};
