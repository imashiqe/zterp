import{F as p,o as v,u as B,r as n,j as e,I as b,B as F,bF as D,bg as g,b as I,bG as T,bH as E,C as A,L as k,k as N,bI as U,x as Y,y}from"./index-16ff5701.js";import{L as $,P as f}from"./AdminLayout-ac80ae52.js";import{V as w}from"./ViewBtn-eedc84ae.js";import{C as L,U as M,T as Q}from"./TableComponent-f70e0475.js";import{C as S}from"./CreateDrawer-33537b52.js";import{T as V}from"./TableNoPagination-c83d1dd6.js";import{G as R}from"./generateBarcodePopUp-585b7176.js";import{A as G}from"./addProductBrand-7852dee3.js";import{C as H}from"./CommonDelete-6a643bdc.js";import{M as q}from"./ModalUi-03657474.js";import{E as O}from"./EditOutlined-f754bc7b.js";import"./Button-81cb4f36.js";import"./index-8b1cef28.js";import"./useForceUpdate-5b1eefe7.js";import"./html2canvas.esm-e0a7d97b.js";import"./jspdf.es.min-3ec80e90.js";import"./barcodeGenerator-8021e62b.js";import"./index-2e4f1652.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";import"./UploadMany-ab6f4635.js";import"./DeleteOutlined-e1f8fe69.js";function C({brand:d,modal:r,onClose:i}){const[s]=p.useForm(),{id:l}=v(),a=B(),[o,c]=n.useState(),[x,m]=n.useState({name:d.name}),h=async j=>{var P;try{const u=await a(D({id:r?d==null?void 0:d.id:l,values:j}));((P=u==null?void 0:u.payload)==null?void 0:P.message)==="success"&&r&&(a(g({page:1,count:10,status:"true"})),i()),m({}),c(!1)}catch{c(!1)}},t=()=>{};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"",children:e.jsxs(p,{initialValues:{...x},form:s,layout:"vertical",name:"basic",onFinish:h,onFinishFailed:t,autoComplete:"off",children:[e.jsx(p.Item,{style:{marginBottom:"10px"},fields:[{name:"Name"}],label:"Name",name:"name",rules:[{required:!0,message:"Please input Category name!"}],children:e.jsx(b,{})}),e.jsx(p.Item,{style:{marginBottom:"10px"},children:e.jsx(F,{onClick:()=>c(!0),block:!0,type:"primary",htmlType:"submit",loading:o,shape:"round",children:"Update Now"})})]})})})})}const K=()=>{const d=[{id:1,title:"Image",dataIndex:"thumbnailImage",render:a=>e.jsx("img",{style:{maxWidth:"40px"},alt:"product",src:a})},{id:2,title:"ID",dataIndex:"id",key:"id"},{id:3,title:"SKU",dataIndex:"sku",key:"sku"},{id:4,title:"Name",dataIndex:"name",key:"name",render:(a,{id:o})=>e.jsx(k,{to:`/admin/product/${o}`,children:a}),tdClass:"whitespace-normal"},{id:5,title:"Quantity",dataIndex:"productQuantity",key:"productQuantity"},{id:6,title:"Purchase price",dataIndex:"productPurchasePrice",key:"productPurchasePrice",responsive:["md"]},{id:7,title:"Sale price",dataIndex:"productSalePrice",key:"productSalePrice",responsive:["md"]},{id:8,title:"Unit Type",dataIndex:"unitType",key:"unitType"},{id:9,title:"Reorder QTY",dataIndex:"reorderQuantity",key:"reorderQuantity"},{id:10,title:"",key:"action",render:({sku:a,id:o})=>[{label:e.jsx(w,{title:"View",path:`/admin/product/${o}`}),key:"view"},{label:e.jsx(R,{sku:a||0}),key:"barcode"}]}],{id:r}=v(),i=B(),s=I(a=>a.productBrands.brand);n.useEffect(()=>(i(T(r)),()=>{i(E())}),[i,r]);const l=e.jsx(e.Fragment,{children:e.jsxs("h5",{className:"text-lg",children:["Products under ",e.jsxs("strong",{children:[s==null?void 0:s.name," "]})]})});return e.jsx("div",{children:e.jsx("div",{className:"mr-top",children:s?e.jsxs(A,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"md:flex flex justify-between md:mb-8 items-center gap-2",children:[e.jsx("h5",{className:"flex items-center",children:e.jsx("span",{className:"mr-left",children:s==null?void 0:s.name})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(S,{permission:"update-productBrand",title:"Update Brand",update:!0,color:"bg-gray-700",width:30,children:e.jsx(C,{brand:s})})})]}),e.jsx(V,{list:s==null?void 0:s.product,columns:d,csvFileName:"brand",rightElement:l})]},s==null?void 0:s.id):e.jsx($,{})})})},W=K,z=d=>{const r=B(),[i,s]=n.useState(!1),{list:l,total:a,loading:o}=I(t=>t.productBrands),c=[{id:1,title:"ID",dataIndex:"id",key:"id",render:t=>e.jsx(k,{to:`/admin/product-brand/${t}`,children:t}),renderCsv:t=>t},{id:2,title:"Name",dataIndex:"name",key:"name",render:(t,{id:j})=>e.jsx(k,{to:`/admin/product-brand/${j}`,children:t}),renderCsv:t=>t},{id:3,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>N(t).format("YYYY-MM-DD"),renderCsv:t=>N(t).format("YYYY-MM-DD")},{id:13,title:"",key:"action",render:t=>[{label:e.jsx(w,{title:"view",path:`/admin/product-brand/${t==null?void 0:t.id}`}),key:"view"},{label:e.jsxs("div",{onClick:()=>{s(t)},className:"flex gap-2  items-center cursor-pointer",children:[e.jsx(O,{className:"text-[1rem]"}),"Edit"]}),key:"edit"},{label:e.jsx(H,{values:{id:t==null?void 0:t.id,status:t==null?void 0:t.status},title:(t==null?void 0:t.status)==="true"?"Hide":"Show",permission:"delete-productCategory",deleteThunk:U,loadThunk:g,query:m,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],x=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}],[m,h]=n.useState({page:1,count:10,status:"true"});return n.useEffect(()=>{r(g(m))},[r,m]),e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Product Brand",extra:e.jsx(S,{permission:"create-productBrand",title:"Create Brand",width:35,children:e.jsx(G,{})}),children:e.jsx(M,{permission:"readAll-productBrand",children:e.jsx(Q,{columns:c,setPageConfig:h,list:l,total:a,loading:o,title:"Product Brand List",filters:x,isSearch:!0})})}),e.jsx(q,{outsideClick:!0,open:i,title:"Edit Product Brand",className:"bg-white",onClose:()=>s(!1),children:e.jsx(C,{modal:!0,brand:i,onClose:()=>s(!1)})})]})},J=()=>e.jsx(e.Fragment,{children:e.jsx(z,{})}),X=J;function ke(){return e.jsxs(Y,{children:[e.jsx(y,{path:"/product-brand",exact:!0,element:e.jsx(f,{permission:"readAll-productBrand",children:e.jsx(X,{})})}),e.jsx(y,{path:"/product-brand/:id",element:e.jsx(f,{permission:"readSingle-productBrand",children:e.jsx(W,{})})}),e.jsx(y,{path:"/product-brand/:id/update",element:e.jsx(f,{permission:"update-productBrand",children:e.jsx(C,{})})})]})}export{ke as default};
