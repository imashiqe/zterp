import{u as j,b as g,F as i,r as u,j as e,I as b,B as C,ed as O,ee as I,k as y,ef as R,eg as H,C as M,eh as k,ei as z,cr as $,ej as G,ek as W,el as A,em as X,en as J,o as K,eo as Q,ep as Z,L as D,eq as _,x as ee,y as F}from"./index-16ff5701.js";import{P as v}from"./AdminLayout-ac80ae52.js";import{C as T,U as P,T as Y}from"./TableComponent-f70e0475.js";import{C as U}from"./CommonDelete-6a643bdc.js";import{C as N}from"./CreateDrawer-33537b52.js";import{A as te}from"./AddUoM-ec811117.js";import{M as S}from"./index-2e4f1652.js";import{E as V}from"./EditOutlined-f754bc7b.js";import{T as se}from"./TableNoPagination-c83d1dd6.js";import{U as E}from"./UploadMany-ab6f4635.js";import{B as ae}from"./BigDrawer-5db64386.js";import{T as B}from"./index-1ab3c210.js";import{S as re}from"./index-8b1cef28.js";import{V as le}from"./ViewBtn-eedc84ae.js";import{M as ie}from"./ModalUi-03657474.js";import"./Button-81cb4f36.js";import"./DeleteOutlined-e1f8fe69.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";import"./useForceUpdate-5b1eefe7.js";function ne({handleCancel:s}){const r=j(),{edit:l}=g(m=>m.uom),[d]=i.useForm(),[t,p]=u.useState(),c=async m=>{await r(O({id:l.id,values:m})),s(),p(!1),r(I({status:!0,page:1,count:10}))},o=()=>{p(!1)};return u.useEffect(()=>{d.setFieldValue("name",l.name)},[l]),e.jsx(e.Fragment,{children:e.jsxs(i,{form:d,layout:"vertical",className:"sm:mx-10",onFinish:c,onFinishFailed:o,autoComplete:"off",labelAlign:"left",children:[e.jsx(i.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input UoM name!"}],children:e.jsx(b,{})}),e.jsx(i.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(C,{loading:t,onClick:()=>p(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update UoM"})})]})})}function oe(){const s=j(),{list:r,total:l,loading:d}=g(h=>h.uom),[t,p]=u.useState({page:1,count:10,status:"true"}),[c,o]=u.useState(!1),m=()=>{o(!0)},x=()=>{o(!1)},f=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:3,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:h=>y(h).format("YYYY-MM-DD"),renderCsv:h=>y(h).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:h=>[{label:e.jsx(P,{permission:"update-department",children:e.jsxs("div",{onClick:()=>{s(R(h)),m()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(V,{className:"text-[1rem]"}),"Edit"]})}),key:"edit"},{label:e.jsx(U,{permission:"delete-uom",id:h==null?void 0:h.id,title:"Hide",deleteThunk:H,loadThunk:I}),key:"delete"}],csvOff:!0}];u.useEffect(()=>{s(I(t))},[s,t]);const n=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"UoM List",extra:e.jsx(N,{permission:"create-uom",title:"Create UoM",width:35,children:e.jsx(te,{})}),children:e.jsx(P,{permission:"readAll-uom",children:e.jsx(Y,{total:l,columns:f,list:r,loading:d,setPageConfig:p,title:"UoM List",filters:n})})}),e.jsx(S,{title:"Update UoM",open:c,onCancel:x,footer:!1,children:e.jsx(ne,{handleCancel:x})})]})}function L(){const s=j(),{Title:r}=B,[l]=i.useForm(),[d,t]=u.useState(!1),p=()=>{t(!0)},c=async m=>{try{(await s(z(m))).payload.message==="success"&&(t(!1),l.resetFields(),s(k({status:!0,page:1,count:10})))}catch{t(!1)}},o=()=>{t(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(r,{level:4,className:"m-2 text-center",children:"Create Attribute"}),e.jsxs(i,{form:l,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:c,onFinishFailed:o,labelAlign:"left",children:[e.jsx(i.Item,{style:{marginBottom:"10px"},label:"Attribute name",name:"name",rules:[{required:!0,message:"Please input Attribute name!"}],children:e.jsx(b,{size:"small"})}),e.jsx(i.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(C,{loading:d,type:"primary",htmlType:"submit",shape:"round",onClick:p,children:"Create Attribute"})})]}),e.jsxs(M,{title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),className:"mt-5",children:[e.jsx(r,{level:4,className:"m-2 text-center",children:"Import From CSV"}),e.jsx(E,{title:"Demo Product Attribute",demoData:[["name"],["Fabric"],["Sleeve"],["Wheel"]],urlPath:"product-attribute",loadAllThunk:k,query:{page:1,count:10,status:!0}})]})]})})}function de({id:s}){const r=j(),{list:l,loading:d}=g(n=>n.productAttribute),{Title:t}=B,[p]=i.useForm(),[c,o]=u.useState(!1),m=()=>{o(!0)},x=async n=>{try{(await r(W({...n,productAttributeId:s}))).payload.message==="success"&&(o(!1),p.resetFields(),r(r(A(s))))}catch{o(!1)}},f=()=>{o(!1)};return u.useEffect(()=>{r($())},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(t,{level:4,className:"m-2 text-center",children:"Add Product Attribute"}),e.jsxs(i,{form:p,layout:"vertical",className:"sm:mx-10",onFinish:x,onFinishFailed:f,labelAlign:"left",children:[e.jsx(i.Item,{style:{marginBottom:"15px"},name:"productAttributeId",label:"Selected Attribute ",children:e.jsxs(re.Compact,{block:!0,children:[e.jsx(b,{value:l==null?void 0:l.find(n=>n.id==s).name,disabled:!0}),e.jsx(ae,{title:"new Product Attribute",btnTitle:"Create Attribute",children:e.jsx(L,{drawer:!0})})]})}),e.jsx(i.Item,{style:{marginBottom:"10px"},label:"Attribute value ",name:"name",rules:[{required:!0,message:"Please input Attribute value !"}],children:e.jsx(b,{size:"small"})}),e.jsx(i.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(C,{loading:c,type:"primary",htmlType:"submit",shape:"round",onClick:m,children:"Create Attribute Value"})})]}),e.jsxs(M,{title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),className:"mt-5",children:[e.jsx(t,{level:4,className:"m-2 text-center",children:"Import From CSV"}),e.jsx(E,{demoData:[["productAttributeId","name"],[1,"M"],[1,"L"],[1,"XL"]],urlPath:"product-attribute-value",loadAllThunk:G,query:{page:1,count:10,status:!0}})]})]})})}function ce({handleCancel:s,attributeId:r}){const l=j(),{edit:d}=g(x=>x.productAttributeValue),[t]=i.useForm(),[p,c]=u.useState(),o=async x=>{c(!0),(await l(X({id:d.id,values:x}))).payload.message=="success"&&(s(),c(!1),l(A(r)))},m=()=>{c(!1)};return u.useEffect(()=>{t.setFieldValue("name",d.name)},[d]),e.jsx(e.Fragment,{children:e.jsxs(i,{form:t,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:o,onFinishFailed:m,autoComplete:"off",labelAlign:"left",children:[e.jsx(i.Item,{style:{marginBottom:"10px"},label:"Attribute name",name:"name",rules:[{required:!0,message:"Please input attribute Value!"}],children:e.jsx(b,{size:"small"})}),e.jsx(i.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(C,{loading:p,onClick:()=>c(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Product Attribute Value"})})]})})}function w({productAttribute:s}){const r=j(),[l]=i.useForm(),[d,t]=u.useState(),p=async o=>{(await r(J({id:s.id,values:o}))).payload.message=="success"&&(t(!1),r(A(s.id)))},c=()=>{t(!1)};return u.useEffect(()=>{l.setFieldValue("name",s.name)},[s]),e.jsx(e.Fragment,{children:e.jsxs(i,{form:l,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:p,onFinishFailed:c,autoComplete:"off",labelAlign:"left",children:[e.jsx(i.Item,{style:{marginBottom:"10px"},label:"Attribute name",name:"name",rules:[{required:!0,message:"Please input attribute name!"}],children:e.jsx(b,{size:"small"})}),e.jsx(i.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(C,{loading:d,onClick:()=>t(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Product Attribute"})})]})})}function me(){const{id:s}=K(),r=j(),[l,d]=u.useState(!1),{productAttribute:t,total:p,loading:c}=g(n=>n.productAttribute);u.useEffect(()=>{r(A(s))},[r,s]);const o=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Attribute Value name",dataIndex:"name",key:"name",render:n=>n},{id:3,title:"Create Date",dataIndex:"createdAt",key:"createdAt",render:n=>y(n).format("DD/MM/YYYY")},{id:4,title:"",key:"action",render:n=>[{label:e.jsx(P,{permission:"update-productAttributeValue",children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{r(Q(n)),m()},children:[e.jsx(V,{className:"bg-gray-600 p-1 text-white rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(U,{permission:"delete-productAttributeValue",deleteThunk:Z,id:n.id,title:"Hide",loadThunk:A,query:s}),key:"delete"}]}],m=()=>{d(!0)},x=()=>{d(!1)},f=e.jsx(e.Fragment,{children:e.jsxs("h5",{className:"text-lg",children:["Values under ",e.jsxs("strong",{children:[t==null?void 0:t.name," "]})]})});return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs(M,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"md:flex-row flex-col flex justify-between md:mb-8 items-center gap-2",children:[e.jsx("h5",{className:"flex items-center",children:e.jsx("span",{className:"mr-left",children:t==null?void 0:t.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{permission:"update-productAttribute",title:"Update",update:!0,color:"bg-gray-700",width:30,children:e.jsx(w,{productAttribute:t})}),e.jsx(N,{permission:"create-productAttribute",title:"Create attribute value",width:35,children:e.jsx(de,{id:s})})]})]}),e.jsx(se,{list:t==null?void 0:t.productAttributeValue.filter(n=>n.status==="true"),columns:o,loading:c,csvFileName:"product attribute",rightElement:f})]},t==null?void 0:t.id),e.jsx(S,{title:"Update Product Attribute Value",open:l,onCancel:x,footer:!1,children:e.jsx(ce,{attributeId:s,handleCancel:x})})]})})}function ue(){const s=j(),[r,l]=u.useState(!1),{list:d,total:t,loading:p}=g(a=>a.productAttribute),[c,o]=u.useState(!1),[m,x]=u.useState({page:1,count:10,status:"true"}),f=()=>{o(!1)},n=[{id:1,title:"ID",dataIndex:"id",key:"id",render:a=>e.jsx(D,{to:`/admin/product-attribute/${a}`,children:a}),renderCsv:a=>a},{id:2,title:"Name",dataIndex:"name",key:"name",render:(a,{id:q})=>e.jsx(D,{to:`/admin/product-attribute/${q}`,children:a}),renderCsv:a=>a},{id:3,title:"Create Date",dataIndex:"createdAt",key:"createdAt",render:a=>y(a).format("DD/MM/YYYY"),renderCsv:a=>y(a).format("DD/MM/YYYY")},{id:13,title:"",key:"action",render:a=>[{label:e.jsx(le,{title:"view",path:`/admin/product-attribute/${a.id}`}),key:"view"},{label:e.jsxs("div",{onClick:()=>{l(a)},className:"flex gap-2  items-center cursor-pointer",children:[e.jsx(V,{className:"text-[1rem]"}),"Edit"]}),key:"edit"},{label:e.jsx(U,{values:{id:a==null?void 0:a.id,status:a==null?void 0:a.status},title:(a==null?void 0:a.status)==="true"?"Hide":"Show",permission:"delete-productCategory",deleteThunk:_,loadThunk:k,query:m,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}];u.useEffect(()=>{s(k(m))},[s,m]);const h=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Product Attribute ",extra:e.jsx(N,{permission:"create-productAttribute",title:"Create Attribute",width:35,children:e.jsx(L,{})}),children:e.jsx(P,{permission:"readAll-productAttribute",children:e.jsx(Y,{total:t,columns:n,list:d,loading:p,setPageConfig:x,title:"Product Attribute List",filters:h})})}),e.jsx(S,{title:"Update Product Attribute",open:c,onCancel:f,footer:!1,children:e.jsx(w,{handleCancel:f})}),e.jsx(ie,{outsideClick:!0,open:r,title:"Edit Product Attribute",className:"bg-white",onClose:()=>l(!1),children:e.jsx(w,{modal:!0,productAttribute:r,onClose:()=>l(!1)})})]})}function Ve(){return e.jsxs(ee,{children:[e.jsx(F,{path:"/uom",element:e.jsx(v,{permission:"readAll-uom",children:e.jsx(oe,{})})})," ",e.jsx(F,{path:"/product-attribute",element:e.jsx(v,{permission:"readAll-productAttribute",children:e.jsx(ue,{})})}),e.jsx(F,{path:"/product-attribute/:id",element:e.jsx(v,{permission:"readSingle-productAttribute",children:e.jsx(me,{})})})]})}export{Ve as default};
