import{u as p,b as m,r as i,d2 as T,j as e,C as g,F as h,d3 as B,B as N,I as L,d4 as E,o as I,d5 as P,d6 as O,k as f,d7 as w,L as v,d8 as D,d9 as R,x as $,y as b}from"./index-16ff5701.js";import{L as q,P as u}from"./AdminLayout-ac80ae52.js";import{M as U}from"./index-2e4f1652.js";import{S as A}from"./Button-81cb4f36.js";import{C as M,U as H,T as V}from"./TableComponent-f70e0475.js";import{V as G}from"./ViewBtn-eedc84ae.js";import{C as z}from"./CreateDrawer-33537b52.js";import{A as J}from"./AddAccount-215a6d3d.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";import"./index-8b1cef28.js";import"./useForceUpdate-5b1eefe7.js";import"./EditOutlined-f754bc7b.js";import"./index-1ab3c210.js";const K=()=>{const t=p(),{balanceSheet:r,loading:o}=m(s=>s==null?void 0:s.accounts)||null;return i.useEffect(()=>{t(T())},[t]),e.jsx(e.Fragment,{children:e.jsx(g,{loading:o,children:e.jsxs("div",{children:[e.jsx("div",{className:"card-title flex justify-between",children:e.jsx("h5",{className:"text-xl mb-3",children:e.jsx("span",{className:"ml-2 report-section-card-title",children:"Balance Sheet"})})}),e.jsx("div",{className:"w-full shadow bg-white rounded",children:e.jsx("div",{className:"border-gray-200 w-full rounded bg-white overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("div",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:"Assets"}),e.jsx("thead",{className:"text-gray-600 text-[13px]  font-bold border-gray tracking-wider text-left px-5 py-3 hover:cursor-pointer uppercase border-b-2 border-gray-200",children:e.jsxs("tr",{className:"border-b border-gray",children:[e.jsx("th",{scope:"col",className:"text-gray-200 border-gray border-b-2 border-t-2 border-gray-200 py-3 px-3 bg-gray-900 text-left font-semibold uppercase tracking-wider",children:"Account"}),e.jsx("th",{scope:"col",className:"text-gray-200 border-gray border-b-2 border-t-2 border-gray-200 py-3 px-3 bg-gray-900 text-left font-semibold uppercase tracking-wider",children:"Amount"})]})}),e.jsxs("tbody",{children:[r&&(r==null?void 0:r.assets.map((s,c)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},c))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsxs("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:[" ",e.jsx("strong",{children:"TOTAL"})]}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:(r==null?void 0:r.totalAsset.toFixed(3))||""})})]}),e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:[" ","Liabilities"]}),r&&(r==null?void 0:r.liabilities.map((s,c)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},c))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:"TOTAL"})}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:(r==null?void 0:r.totalLiability)||""})})]}),e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:[" ","Equity"]}),r&&(r==null?void 0:r.equity.map((s,c)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},c))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:"TOTAL"})}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:(r==null?void 0:r.totalEquity.toFixed(3))||""})})]}),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsxs("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:[" ",e.jsx("strong",{children:"Total Liability and Equity"})]}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:((r==null?void 0:r.totalEquity)+(r==null?void 0:r.totalLiability)).toFixed(3)||""})})]})]})]})})})]})})})},Q=K,W=({account:t,id:r})=>{const o=p(),[s,c]=i.useState(!1),[a,n]=i.useState(!1),[y]=h.useForm(),l=m(d=>{var x;return(x=d==null?void 0:d.accounts)==null?void 0:x.mainAccount})||null;i.useEffect(()=>{o(B())},[o]);const j=async d=>{await o(E({id:r,values:d})),c(!1),n(!1)},C=d=>{c(!1)},k=()=>{n(!0)},F=()=>{c(!0),setTimeout(()=>{c(!1),n(!1)},3e3)},S=()=>{n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(N,{onClick:k,size:"small",children:"Update Account"}),e.jsx(U,{open:a,title:"",onOk:F,onCancel:S,footer:null,children:e.jsxs(h,{form:y,name:"basic",layout:"vertical",className:"sm:mx-10",initialValues:t,onFinish:j,onFinishFailed:C,autoComplete:"off",children:[e.jsx(h.Item,{style:{marginBottom:"10px"},name:"name",label:"Name",rules:[{required:!0,message:"Please input debit account!"}],children:e.jsx(L,{})}),e.jsx(h.Item,{style:{marginBottom:"10px"},name:"accountId",label:"Account Type",rules:[{required:!0,message:"Please input debit account!"}],children:e.jsx(A,{loading:!l,showSearch:!0,placeholder:"Select Account Type",optionFilterProp:"children",filterOption:(d,x)=>x.children.includes(d),filterSort:(d,x)=>d.children.toLowerCase().localeCompare(x.children.toLowerCase()),children:l&&l.map(d=>e.jsx(A.Option,{value:d.id,children:d.name},d.id))})}),e.jsx(h.Item,{style:{marginBottom:"10px"},children:e.jsx(N,{block:!0,type:"primary",htmlType:"submit",shape:"round",loading:s,onClick:()=>c(!0),children:"Update Account"})})]})})]})},X=()=>{var s,c;const t=m(a=>a.accounts.account),{id:r}=I(),o=p();return i.useEffect(()=>(o(P(r)),()=>{o(O())}),[o,r]),e.jsx(e.Fragment,{children:e.jsx(g,{children:t?e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"card-title flex flex-col sm:flex-row justify-between mb-4",children:[e.jsx("h5",{className:"text-xl mb-3 sm:mb-0",children:e.jsxs("span",{className:"ml-2",children:[" Account Ledger: ",t.name]})}),e.jsx(W,{account:t,id:r})]}),e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"border-gray-200 w-full rounded  overflow-x-auto",children:e.jsxs("table",{className:"w-full bg-tableBg",children:[e.jsx("thead",{className:"font-Popins text-black/70 bg-tableHeaderBg border-gray-200 uppercase",children:e.jsxs("tr",{className:"border-b border-gray",children:[e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Date"}),e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Debit"}),e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Credit"}),e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Particulars"})]})}),e.jsxs("tbody",{children:[t&&((s=t==null?void 0:t.debit)==null?void 0:s.map((a,n)=>e.jsxs("tr",{className:"hover:bg-slate-900/10 border-b",children:[e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:f(a.date).format("ll")}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.amount}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap"}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.particulars})]},n))),t&&((c=t==null?void 0:t.credit)==null?void 0:c.map((a,n)=>e.jsxs("tr",{className:"hover:bg-slate-900/10 border-b",children:[e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:f(a.date).format("ll")}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap"}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.amount}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.particulars})]},n))),t&&e.jsxs("tr",{className:"hover:bg-slate-900/10 border-b rounded-b",children:[e.jsx("td",{colSpan:"2",className:"py-3 pl-3 whitespace-nowrap",children:e.jsx("strong",{children:"Balance"})}),e.jsx("td",{children:e.jsx("strong",{children:t==null?void 0:t.balance.toFixed(2)})})]})]})]})})})]}):e.jsx(q,{})})})},Y=X,Z=()=>{const t=p(),{list:r,total:o,loading:s}=m(l=>l.accounts)||{},[c,a]=i.useState({page:1,count:10,status:"true"}),n=[{id:1,title:"ID",dataIndex:"id",key:"id",render:l=>e.jsx(v,{to:`/admin/account/${l}`,children:l}),renderCsv:l=>l},{id:2,title:"Account",dataIndex:"name",key:"name",render:(l,{id:j})=>e.jsx(v,{to:`/admin/account/${j}`,children:l}),renderCsv:l=>l},{id:3,title:"Account Type ",dataIndex:"account",key:"account",render:l=>l==null?void 0:l.name,renderCsv:l=>l==null?void 0:l.name},{id:4,title:"Action",key:"Action",render:({id:l})=>e.jsx(G,{path:`/admin/account/${l}`}),csvOff:!0}],y=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return i.useEffect(()=>{t(w({status:!0,page:1,count:10}))},[t]),i.useEffect(()=>{t(w(c))},[t,c]),e.jsx(M,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Accounts",extra:e.jsx(z,{permission:"create-account",title:"Create Account",width:35,children:e.jsx(J,{})}),children:e.jsx(H,{permission:"readAll-account",children:e.jsx(V,{list:r,columns:n,total:o,loading:s,setPageConfig:a,filters:y,isSearch:!0})})})},_=Z,ee=()=>{const t=p(),{incomeStatement:r,loading:o}=m(s=>s==null?void 0:s.accounts)||null;return i.useEffect(()=>{t(D())},[t]),e.jsx(e.Fragment,{children:e.jsx(g,{loading:o,children:e.jsxs("div",{children:[e.jsx("div",{className:"card-title flex justify-between",children:e.jsx("h5",{className:"text-xl mb-2",children:e.jsxs("span",{className:"ml-2 report-section-card-title",children:["Income Statement"," "]})})}),e.jsx("div",{className:"border-gray-200 w-full rounded bg-white overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:["Revenue"," "]}),e.jsx("thead",{className:"text-gray-600 text-[13px]  font-bold border-gray tracking-wider text-left px-5 py-3 hover:cursor-pointer uppercase border-b-2 border-gray-200",children:e.jsxs("tr",{className:"border-b border-gray",children:[e.jsx("th",{scope:"col",className:"text-gray-200 border-gray border-b-2 border-t-2 border-gray-200 py-3 px-3 bg-gray-900 text-left  font-semibold uppercase tracking-wider",children:"Account"}),e.jsx("th",{scope:"col",className:"text-gray-200 border-gray border-b-2 border-t-2 border-gray-200 py-3 px-3 bg-gray-900 text-left  font-semibold uppercase tracking-wider",children:"Amount"})]})}),e.jsxs("tbody",{children:[r&&(r==null?void 0:r.revenue.map((s,c)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},c))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsxs("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:[" ",e.jsx("strong",{children:"TOTAL"})]}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:r==null?void 0:r.totalRevenue.toFixed(3)})})]}),e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:[" ","Expense"]}),r&&(r==null?void 0:r.expense.map((s,c)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},c))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:"TOTAL"})}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:r==null?void 0:r.totalExpense.toFixed(3)})})]}),e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:[" ","Profit"]}),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsxs("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:[" ",e.jsx("strong",{children:"Total "})]}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:r==null?void 0:r.profit.toFixed(3)})})]})]})]})})]})})})},re=ee,se=()=>{var s,c;const t=p(),{trailBalance:r,loading:o}=m(a=>a==null?void 0:a.accounts)||[];return i.useEffect(()=>{t(R())},[t]),e.jsx(e.Fragment,{children:e.jsx(g,{loading:o,children:e.jsxs("div",{children:[e.jsx("div",{className:"card-title flex justify-between",children:e.jsx("h5",{className:"text-xl mb-3",children:e.jsx("span",{className:"ml-2 report-section-card-title",children:"Trail Balance"})})}),e.jsx("div",{className:"border-gray-200 w-full rounded bg-white overflow-x-auto",children:e.jsxs("table",{className:"table report-section-table w-full",children:[e.jsx("thead",{className:"font-Popins text-black/70 bg-tableHeaderBg border-gray-200",children:e.jsxs("tr",{className:"border-b border-gray",children:[e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Account"}),e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Debit"}),e.jsx("th",{scope:"col",className:"py-[14px] pl-3 text-left whitespace-nowrap tracking-wide",children:"Credit"})]})}),e.jsxs("tbody",{className:"bg-tableBg",children:[r&&((s=r==null?void 0:r.debits)==null?void 0:s.map((a,n)=>e.jsxs("tr",{className:"hover:bg-slate-900/10 border-b",children:[e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.subAccount}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.balance?Number(a.balance).toFixed(3):""}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap"})]},n))),r&&((c=r==null?void 0:r.credits)==null?void 0:c.map((a,n)=>e.jsxs("tr",{className:"hover:bg-slate-900/10 border-b",children:[e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.subAccount}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap"}),e.jsx("td",{className:"py-2 pl-3 whitespace-nowrap",children:a.balance?Number(a.balance).toFixed(3):""})]},n))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer font-semibold",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm ",children:"TOTAL"}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:r!=null&&r.totalDebit?Number(r==null?void 0:r.totalDebit).toFixed(3):"-"}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:r!=null&&r.totalCredit?Number(r==null?void 0:r.totalCredit).toFixed(3):"-"})]})]})]})})]})})})},te=se;function ye(){return e.jsxs($,{children:[" ",e.jsx(b,{path:"/account",exact:!0,element:e.jsx(u,{permission:"readAll-account",children:e.jsx(_,{})})}),e.jsx(b,{path:"/account/:id",element:e.jsx(u,{permission:"readSingle-account",children:e.jsx(Y,{})})}),e.jsx(b,{path:"/account/trial-balance",exact:!0,element:e.jsx(u,{permission:"readAll-productReports",children:e.jsx(te,{})})}),e.jsx(b,{path:"/account/balance-sheet",exact:!0,element:e.jsx(u,{permission:"readAll-productReports",children:e.jsx(Q,{})})}),e.jsx(b,{path:"/account/income",exact:!0,element:e.jsx(u,{permission:"readAll-productReports",children:e.jsx(re,{})})})]})}export{ye as default};
