import{u as h,r as d,F as r,j as e,I as C,B as N,C as g,cE as u,da as F,b as D,L as p,db as S,o as k,dc as T,dd as E,a5 as L,a0 as $,a1 as A,de as P,x as U,y as f}from"./index-16ff5701.js";import{L as V,P as y}from"./AdminLayout-ac80ae52.js";import{C as B,U as b,T as R}from"./TableComponent-f70e0475.js";import{V as q}from"./ViewBtn-eedc84ae.js";import{U as G}from"./UploadMany-ab6f4635.js";import{C as H}from"./CreateDrawer-33537b52.js";import{T as w}from"./index-1ab3c210.js";import{C as M}from"./CommonDelete-6a643bdc.js";import{E as v}from"./EditOutlined-f754bc7b.js";import{T as O}from"./TableNoPagination-c83d1dd6.js";import"./Button-81cb4f36.js";import"./index-8b1cef28.js";import"./useForceUpdate-5b1eefe7.js";import"./DeleteOutlined-e1f8fe69.js";const z=()=>{const s=h(),{Title:i}=w,[n,t]=d.useState(!1),l=()=>{t(!0)},[m]=r.useForm(),c=async a=>{try{(await s(F(a))).payload.message==="success"?(t(!1),m.resetFields()):t(!1)}catch{t(!1)}},x=()=>{t(!1)};return e.jsx(e.Fragment,{children:e.jsxs(H,{permission:"create-designation",title:"Create Designation",width:35,children:[e.jsxs("div",{className:"h-full ",children:[e.jsx(i,{level:4,className:"text-center",children:"Create New Designation"}),e.jsxs(r,{form:m,name:"basic",initialValues:{remember:!0},onFinish:c,onFinishFailed:x,autoComplete:"off",layout:"vertical",className:"sm:mx-10",children:[e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input designation name!"}],children:e.jsx(C,{})}),e.jsx(r.Item,{style:{marginBottom:"10px",textAlign:"center"},children:e.jsx(N,{onClick:l,type:"primary",htmlType:"submit",shape:"round",loading:n,children:"Create New designation"})})]})]}),e.jsx(g,{className:"mt-5",title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),children:e.jsx(G,{title:"Demo Designation",demoData:[["name"],["Manager"],["Sales man"],["Employee"]],urlPath:"designation",loadAllThunk:u,query:{page:1,count:10,status:!0}})})]})})},J=()=>{const s=h(),{list:i,total:n,loading:t}=D(a=>a.designations),[l,m]=d.useState({page:1,count:10,status:"true"}),c=[{id:1,title:"ID",dataIndex:"id",key:"id",render:a=>e.jsx(p,{to:`/admin/designation/${a}`,children:a}),renderCsv:a=>a},{id:2,title:"Name",dataIndex:"name",key:"name",render:(a,{id:o})=>e.jsx(p,{to:`/admin/designation/${o}`,children:a}),renderCsv:a=>a||"N/A"},{id:3,title:"",key:"action",render:({id:a,status:o,name:j})=>[{label:e.jsx(q,{title:"View",path:`/admin/designation/${a}`}),key:"view"},{label:e.jsx(b,{permission:"update-designation",children:e.jsxs(p,{to:`/admin/designation/${a}/update`,state:{data:{name:j}},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(v,{className:" rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(M,{values:{id:a,status:o},title:o==="true"?"Hide":"Show",permission:"delete-designation",deleteThunk:S,loadThunk:u,query:l,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],x=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return d.useEffect(()=>{s(u(l))},[s,l]),e.jsx(B,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Designations",extra:e.jsx(z,{}),children:e.jsx(b,{permission:"readAll-designation",children:e.jsx(R,{list:i,total:n,loading:t,columns:c,setPageConfig:m,paginatedThunk:u,title:"Designation List",filters:x,isSearch:!0})})})},K=J,Q=({list:s})=>{const i=[{title:"ID",dataIndex:"id",key:"idNo",render:t=>e.jsx(p,{to:`/admin/hr/staffs/${t}`,children:t})},{title:"User Name",dataIndex:"username",key:"username"},{title:"Role",dataIndex:"role",key:"role",render:t=>t.name},{title:"email",dataIndex:"email",key:"email"},{title:"phone",dataIndex:"phone",key:"phone"},{title:"salary",dataIndex:"salary",key:"salary"}],n=e.jsxs("h1",{className:"px-3 font-medium text-lg",children:[s==null?void 0:s.name," list"]});return e.jsx(g,{className:"header-solid h-full",bordered:!1,bodyStyle:{padding:"0"},children:e.jsx(O,{loading:!s,list:s==null?void 0:s.user,columns:i,csvFileName:`${s==null?void 0:s.name} Staff list`,rightElement:n})})},W=()=>{const{id:s}=k(),i=h(),n=D(t=>t.designations.designation);return d.useEffect(()=>(i(T(s)),()=>{i(E())}),[i,s]),e.jsx("div",{children:e.jsx("div",{className:"mr-top",children:n?e.jsx(d.Fragment,{children:e.jsxs(g,{bordered:!1,style:{},children:[e.jsxs("div",{className:"flex justify-between",style:{padding:0},children:[e.jsx("div",{className:"w-50",children:e.jsx("h5",{className:"text-xl",children:e.jsx("span",{className:"mr-left",children:n.name})})}),e.jsx("div",{className:"flex items-center text-end w-50",children:e.jsx(p,{className:"mr-3 inline-block",to:`/admin/designation/${n.id}/update`,state:{data:n},children:e.jsx(N,{type:"primary",shape:"round",icon:e.jsx(v,{})})})})]}),e.jsx(Q,{list:n})]})},n.id):e.jsx(V,{})})})},X=W;function Y(){const{Title:s}=w,[i]=r.useForm(),[n,t]=d.useState(!1),{id:l}=k(),m=h(),c=L(),{data:x}=c.state,[a,o]=d.useState({name:x.name}),j=async I=>{await m(P({id:l,values:I})),t(!1),o({})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-center",children:e.jsx(g,{className:"mt-2",children:e.jsx($,{className:"mr-top",children:e.jsxs(A,{xs:24,sm:24,md:24,lg:10,xl:10,className:"border rounded column-design ",children:[e.jsx(s,{level:3,className:"m-3 text-center",children:"Edit Designation Form"}),e.jsxs(r,{initialValues:{...a},form:i,className:"m-4",name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:j,autoComplete:"off",children:[e.jsx(r.Item,{style:{marginBottom:"10px"},fields:[{name:"Name"}],label:"Name",name:"name",rules:[{required:!0,message:"Please input Designation name!"}],children:e.jsx(C,{})}),e.jsx(r.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:8,span:16},children:e.jsx(N,{onClick:()=>t(!0),block:!0,type:"primary",htmlType:"submit",shape:"round",loading:n,children:"Update Now"})})]})]})})})})})}function xe(){return e.jsxs(U,{children:[e.jsx(f,{path:"/designation",exact:!0,element:e.jsx(y,{permission:"readAll-designation",children:e.jsx(K,{})})}),e.jsx(f,{path:"/designation/:id",element:e.jsx(y,{permission:"readSingle-designation",children:e.jsx(X,{})})}),e.jsx(f,{path:"/designation/:id/update",element:e.jsx(y,{permission:"update-designation",children:e.jsx(Y,{})})})]})}export{xe as default};
