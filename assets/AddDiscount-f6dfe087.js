import{u as h,F as t,r as i,j as e,B as j,C as g,bl as y,k as m,fL as Y,fE as b}from"./index-16ff5701.js";import{d as F}from"./dayjs.min-72f12467.js";import{U as N}from"./UploadMany-ab6f4635.js";import{I}from"./index-6d01e873.js";import{S as r}from"./Button-81cb4f36.js";import{D as c}from"./index-f03f7796.js";import{T as M}from"./index-1ab3c210.js";function k(){const l=h(),{Title:n}=M,[o]=t.useForm(),[u,a]=i.useState(!1),d=()=>{a(!0)},p=async s=>{const D={...s,startDate:m(s.startDate).format("YYYY-MM-DD"),endDate:m(s.endDate).format("YYYY-MM-DD")};try{(await l(Y(D))).payload.message==="success"&&(o.resetFields(),l(b({page:1,count:10,status:"true"}))),a(!1)}catch{a(!1)}},x=()=>{a(!1)};return e.jsx(i.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(n,{level:4,className:"m-2 text-center",children:"Create Discount"}),e.jsxs(t,{form:o,layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0,startDate:F()},onFinish:p,onFinishFailed:x,autoComplete:"off",labelAlign:"left",children:[e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Value",name:"value",rules:[{required:!0,message:"Please input coupon value!"}],children:e.jsx(I,{size:"small",placeholder:"e.g. 15"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Type",name:"type",rules:[{required:!0,message:"Please select coupon type!"}],children:e.jsxs(r,{placeholder:"Select type",children:[e.jsx(r.Option,{children:"Percentage"},"percentage"),e.jsx(r.Option,{children:"Flat"},"flat")]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(t.Item,{label:"Start Date",required:!0,className:"w-1/2",name:"startDate",rules:[{required:!0,message:"Please input Start Date!"}],children:e.jsx(c,{label:"StartDate",size:"small",format:"YYYY-MM-DD"})}),e.jsx(t.Item,{label:"End Date",required:!0,className:"w-1/2",name:"endDate",rules:[{required:!0,message:"Please input End Date!"}],children:e.jsx(c,{label:"endDate",size:"small",format:"YYYY-MM-DD"})})]}),e.jsx(t.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(j,{loading:u,type:"primary",htmlType:"submit",shape:"round",onClick:d,children:"Create Discount"})})]}),e.jsxs(g,{title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),className:"mt-5",children:[e.jsx(n,{level:4,className:"m-2 text-center",children:"Import From CSV"}),e.jsx(N,{title:"Demo Discount",demoData:[["value","type","startDate","endDate"],["5","percentage","2024-01-01","2026-01-01"],["10","flat","2024-02-02","2026-02-02"],["15","percentage","2024-03-03","2026-03-03"],["35","flat","2024-04-04","2026-04-04"]],urlPath:"discount",loadAllThunk:y})]})]})})}export{k as A};
