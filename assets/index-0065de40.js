import{r as a,E as V,J,G as B,A as $,af as q,z as I,ai as D,ad as F,ay as K,_ as L,H as P,ag as G}from"./index-16ff5701.js";var O=function(e){return e?{left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth}:null},C=function(e){return e!==void 0?"".concat(e,"px"):void 0};function Q(t){var e=t.prefixCls,u=t.containerRef,o=t.value,v=t.getValueIndex,r=t.motionName,g=t.onMotionStart,h=t.onMotionEnd,s=t.direction,x=a.useRef(null),y=a.useState(o),S=V(y,2),b=S[0],T=S[1],R=function(m){var n,f=v(m),d=(n=u.current)===null||n===void 0?void 0:n.querySelectorAll(".".concat(e,"-item"))[f];return(d==null?void 0:d.offsetParent)&&d},j=a.useState(null),_=V(j,2),l=_[0],w=_[1],M=a.useState(null),A=V(M,2),i=A[0],N=A[1];J(function(){if(b!==o){var c=R(b),m=R(o),n=O(c),f=O(m);T(o),w(n),N(f),c&&m?g():h()}},[o]);var k=a.useMemo(function(){return C(s==="rtl"?-(l==null?void 0:l.right):l==null?void 0:l.left)},[s,l]),W=a.useMemo(function(){return C(s==="rtl"?-(i==null?void 0:i.right):i==null?void 0:i.left)},[s,i]),E=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},X=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},p=function(){w(null),N(null),h()};return!l||!i?null:a.createElement(B,{visible:!0,motionName:r,motionAppear:!0,onAppearStart:E,onAppearActive:X,onVisibleChanged:p},function(c,m){var n=c.className,f=c.style,d=$($({},f),{},{"--thumb-start-left":k,"--thumb-start-width":C(l==null?void 0:l.width),"--thumb-active-left":W,"--thumb-active-width":C(i==null?void 0:i.width)}),H={ref:q(x,m),style:d,className:I("".concat(e,"-thumb"),n)};return a.createElement("div",H)})}var U=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function Y(t){if(typeof t.title<"u")return t.title;if(G(t.label)!=="object"){var e;return(e=t.label)===null||e===void 0?void 0:e.toString()}}function Z(t){return t.map(function(e){if(G(e)==="object"&&e!==null){var u=Y(e);return $($({},e),{},{title:u})}return{label:e==null?void 0:e.toString(),title:e==null?void 0:e.toString(),value:e}})}var ee=function(e){var u=e.prefixCls,o=e.className,v=e.disabled,r=e.checked,g=e.label,h=e.title,s=e.value,x=e.onChange,y=function(b){v||x(b,s)};return a.createElement("label",{className:I(o,P({},"".concat(u,"-item-disabled"),v))},a.createElement("input",{className:"".concat(u,"-item-input"),type:"radio",disabled:v,checked:r,onChange:y}),a.createElement("div",{className:"".concat(u,"-item-label"),title:h},g))},z=a.forwardRef(function(t,e){var u,o,v=t.prefixCls,r=v===void 0?"rc-segmented":v,g=t.direction,h=t.options,s=t.disabled,x=t.defaultValue,y=t.value,S=t.onChange,b=t.className,T=b===void 0?"":b,R=t.motionName,j=R===void 0?"thumb-motion":R,_=D(t,U),l=a.useRef(null),w=a.useMemo(function(){return q(l,e)},[l,e]),M=a.useMemo(function(){return Z(h)},[h]),A=F((u=M[0])===null||u===void 0?void 0:u.value,{value:y,defaultValue:x}),i=V(A,2),N=i[0],k=i[1],W=a.useState(!1),E=V(W,2),X=E[0],p=E[1],c=function(f,d){s||(k(d),S==null||S(d))},m=K(_,["children"]);return a.createElement("div",L({},m,{className:I(r,(o={},P(o,"".concat(r,"-rtl"),g==="rtl"),P(o,"".concat(r,"-disabled"),s),o),T),ref:w}),a.createElement("div",{className:"".concat(r,"-group")},a.createElement(Q,{prefixCls:r,value:N,containerRef:l,motionName:"".concat(r,"-").concat(j),direction:g,getValueIndex:function(f){return M.findIndex(function(d){return d.value===f})},onMotionStart:function(){p(!0)},onMotionEnd:function(){p(!1)}}),M.map(function(n){return a.createElement(ee,L({},n,{key:n.value,prefixCls:r,className:I(n.className,"".concat(r,"-item"),P({},"".concat(r,"-item-selected"),n.value===N&&!X)),checked:n.value===N,onChange:c,disabled:!!s||!!n.disabled}))})))});z.displayName="Segmented";z.defaultProps={options:[]};const ae=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{z as S,ae as e};
