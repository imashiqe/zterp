import{o as E,e as T,u as C,b as F,r as n,by as L,bz as V,j as e,N as w,C as O,L as D,B as x,bA as R,a3 as $,F as u,I as P,bO as q,bP as H,bQ as N,bR as M,x as U,y}from"./index-16ff5701.js";import{L as _,P as b}from"./AdminLayout-ac80ae52.js";import{e as z,b as G,C as K,U as v,T as Q}from"./TableComponent-f70e0475.js";import{V as Y}from"./ViewBtn-eedc84ae.js";import{P as J,T as W}from"./index-8b1cef28.js";import{E as k}from"./EditOutlined-f754bc7b.js";import{D as X}from"./DeleteOutlined-e1f8fe69.js";import{C as Z}from"./CommonDelete-6a643bdc.js";import{C as ee}from"./CreateDrawer-33537b52.js";import{C as S}from"./ColorPicker-5472f9b3.js";import{T as te}from"./index-1ab3c210.js";import{M as se}from"./index-2e4f1652.js";import"./Button-81cb4f36.js";import"./useForceUpdate-5b1eefe7.js";import"./ColorPicker-a48b803b.js";import"./index-6d01e873.js";import"./Collapse-d1408748.js";import"./index-5070a1ec.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";function ae({list:a,categoryName:m}){const[l,s]=n.useState([]),i=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name",render:(r,{id:c})=>e.jsx(D,{to:`/admin/product-subcategory/${c}`,children:r})},{id:3,title:"action",key:"action",render:({id:r})=>e.jsx(Y,{path:`/admin/product-subcategory/${r}`})}];n.useEffect(()=>{s(i)},[]);const o=r=>{s(r)},d=r=>r.map(c=>({...c,key:c.id}));return e.jsx("div",{className:"card card-custom border",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"card-title d-flex justify-content-between",children:[e.jsx("h5",{children:"Product List"}),a&&e.jsx("div",{children:e.jsx(z,{data:a,className:"bg-gray-700 hover:bg-gray-500 text-white font-bold py-1 px-3 rounded mr-2 ",filename:`category_${m}`,children:"Download CSV"})})]}),a&&e.jsx("div",{style:{marginBottom:"30px"},children:e.jsx(G,{options:i,columns:i,columnsToShowHandler:o})}),e.jsx(W,{scroll:{x:!0},loading:!a,columns:l,dataSource:a?d(a):[]})]})})}const oe=()=>{const{id:a}=E();let m=T();const l=C(),s=F(t=>t.productCategories.category),i=()=>{try{return l(R(a)),d(!1),$.success(`Product : ${s.name} is removed `),m("/admin/product-color")}catch{}},[o,d]=n.useState(!1),r=t=>{d(t)};return n.useEffect(()=>(l(L(a)),()=>{l(V())}),[a]),!!localStorage.getItem("isLogged")?e.jsx("div",{children:e.jsx("div",{className:"mr-top",children:s?e.jsx(n.Fragment,{children:e.jsxs(O,{bordered:!1,className:"card-custom",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between",style:{padding:0},children:[e.jsx("div",{className:"w-50",children:e.jsx("h5",{children:e.jsx("span",{className:"mr-left",children:s.name})})}),e.jsxs("div",{className:"text-end w-50",children:[e.jsx(D,{className:"me-3 d-inline-block",to:`/admin/product-color/${s.id}/update`,state:{data:s},children:e.jsx(x,{type:"primary",shape:"round",icon:e.jsx(k,{})})}),e.jsx(J,{content:e.jsx("a",{onClick:i,children:e.jsx(x,{type:"primary",danger:!0,children:"Yes Please !"})}),title:"Are you sure you want to delete ?",trigger:"click",open:o,onOpenChange:r,children:e.jsx(x,{type:"danger",DetailProductCategory:!0,shape:"round",icon:e.jsx(X,{})})})]})]}),e.jsxs("div",{className:"my-2 table-responsive",children:[e.jsxs("h5",{className:"text-center mb-2",children:["Products under ",e.jsxs("strong",{children:[s.name," "]})]}),e.jsx(ae,{list:s==null?void 0:s.productSubCategory,categoryName:s==null?void 0:s.name})]})]})},s.id):e.jsx(_,{})})}):e.jsx(w,{to:"/admin/auth/login",replace:!0})},re=oe,ne=({drawer:a})=>{const m=C(),{Title:l}=te,[s]=u.useForm(),[i,o]=n.useState(!1),[d,r]=n.useState("#1677FF"),c=()=>{o(!0)},t=async p=>{const h={...p,colorCode:d};h.status=!0;try{(await m(q(h))).payload.message==="success"&&s.resetFields(),o(!1)}catch{o(!1)}},g=p=>{o(!1)};return e.jsx(n.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(l,{level:4,className:"m-2 text-center",children:"Create Product Color"}),e.jsxs(u,{form:s,layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0},onFinish:t,onFinishFailed:g,autoComplete:"off",labelAlign:"left",children:[e.jsx(u.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input color name!"}],children:e.jsx(P,{})}),e.jsx(u.Item,{style:{marginBottom:"10px"},label:"Color Code",required:!0,children:e.jsx(S,{showText:!0,format:"hex",onChange:p=>{r(p.toHexString())},presets:[{label:"Recommended",colors:["#000000","#000000E0","#000000A6","#00000073","#00000040","#00000026","#0000001A","#00000012","#0000000A","#00000005","#F5222D","#FA8C16","#FADB14","#8BBB11","#52C41A","#13A8A8","#1677FF","#2F54EB","#722ED1","#EB2F96","#F5222D4D","#FA8C164D","#FADB144D","#8BBB114D","#52C41A4D","#13A8A84D","#1677FF4D","#2F54EB4D","#722ED14D","#EB2F964D"]},{label:"Recent",colors:[]}]})}),e.jsx(u.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(x,{loading:i,type:"primary",htmlType:"submit",shape:"round",onClick:c,children:"Create Color"})})]})]})})};function B({data:a,id:m}){const l=C(),[s]=u.useForm(),[i,o]=n.useState(),[d,r]=n.useState(a==null?void 0:a.colorCode),[c,t]=n.useState(!1),g=()=>{t(!0)},p=()=>{t(!1)},h=()=>{t(!1)},j=async f=>{const I={...f,colorCode:d};await l(H({id:m,data:I})),t(!1),o(!1)},A=()=>{o(!1)};return n.useEffect(()=>{s.setFieldValue("name",a==null?void 0:a.name),r(a==null?void 0:a.colorCode)},[a,s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:g,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(k,{className:"text-[1rem]"}),"Edit"]}),e.jsx(se,{title:"Edit Color",open:c,onOk:p,onCancel:h,footer:!1,children:e.jsxs(u,{form:s,className:"m-4",name:"basic",layout:"vertical",onFinish:j,onFinishFailed:A,autoComplete:"off",children:[e.jsx(u.Item,{style:{marginBottom:"10px"},fields:[{name:"Name"}],label:"Name",name:"name",rules:[{required:!0,message:"Please input Color name!"}],children:e.jsx(P,{})}),e.jsx(u.Item,{style:{marginBottom:"10px"},label:"Color Code",required:!0,children:e.jsx(S,{className:"w-full",showText:!0,defaultValue:d,onChange:f=>{r(f.toHexString())}})}),e.jsx(u.Item,{style:{marginBottom:"10px"},children:e.jsx(x,{onClick:()=>o(!0),block:!0,type:"primary",htmlType:"submit",shape:"round",loading:i,children:"Update Now"})})]})})]})}const le=a=>{const m=C(),{list:l,total:s,loading:i}=F(t=>t.colors),[o,d]=n.useState({page:1,count:10,status:"true"}),r=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:3,title:"Color Code",dataIndex:"colorCode",key:"colorCode",render:t=>e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"rounded border border-gray-200",style:{marginRight:"10px",width:"20px",height:"20px",backgroundColor:t}}),t]}),renderCsv:t=>t},{id:3,title:"",dataIndex:"",key:"action",render:t=>[{label:e.jsx(v,{permission:"update-color",children:e.jsx(B,{data:{name:t==null?void 0:t.name,colorCode:t==null?void 0:t.colorCode},id:t==null?void 0:t.id})}),key:"edit"},{label:e.jsx(Z,{values:{id:t==null?void 0:t.id,status:t==null?void 0:t.status},title:(t==null?void 0:t.status)==="true"?"Hide":"Show",permission:"delete-productCategory",deleteThunk:M,loadThunk:N,query:o,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],c=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return n.useEffect(()=>{m(N(o))},[m,o]),e.jsxs(K,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Product Color",extra:e.jsx(ee,{permission:"create-color",title:"Create Color",width:35,children:e.jsx(ne,{})}),children:[" ",e.jsx(v,{permission:"readAll-color",children:e.jsx(Q,{list:l,columns:r,total:s,loading:i,setPageConfig:d,title:"Product Color List",filters:c,isSearch:!0})})]})},ie=()=>!localStorage.getItem("isLogged")?e.jsx(w,{to:"/admin/auth/login",replace:!0}):e.jsx(e.Fragment,{children:e.jsx(le,{})}),de=ie;function Be(){return e.jsxs(U,{children:[e.jsx(y,{path:"/product-color",element:e.jsx(b,{permission:"readAll-color",children:e.jsx(de,{})})}),e.jsx(y,{path:"/product-color/:id",element:e.jsx(b,{permission:"readSingle-color",children:e.jsx(re,{})})}),e.jsx(y,{path:"/product-color/:id/update",element:e.jsx(b,{permission:"update-color",children:e.jsx(B,{})})})]})}export{Be as default};
