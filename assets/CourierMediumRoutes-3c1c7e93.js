import{u as j,o as B,b as g,r as n,dU as E,dV as A,j as e,dW as S,L as f,k as D,F as a,I as y,dX as I,B as b,dY as T,dZ as M,dj as F,d_ as O,x as R,y as N}from"./index-16ff5701.js";import{P as v}from"./AdminLayout-ac80ae52.js";import{C as P,U as C,T as k}from"./TableComponent-f70e0475.js";import{V as w}from"./ViewBtn-eedc84ae.js";import{C as q}from"./CommonDelete-6a643bdc.js";import{C as V}from"./CreateDrawer-33537b52.js";import"./UploadMany-ab6f4635.js";import{S as h}from"./Button-81cb4f36.js";import{T as $}from"./index-1ab3c210.js";import{M as z}from"./index-2e4f1652.js";import{I as L}from"./index-6d01e873.js";import{E as U}from"./EditOutlined-f754bc7b.js";import"./index-8b1cef28.js";import"./useForceUpdate-5b1eefe7.js";import"./DeleteOutlined-e1f8fe69.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";function H(){const i=j(),{id:l}=B(),{courier:d,loading:c}=g(r=>r.courierMedium),{listByCourier:t,totalByCourier:u,loading:o}=g(r=>r.ESale),[m,s]=n.useState({page:1,count:10,status:"true"}),p=[{id:1,title:"Invoice No",dataIndex:"id",key:"id",render:(r,{id:x})=>e.jsx(f,{to:`/admin/order/${x}`,children:x})},{id:2,title:"Date",dataIndex:"date",key:"date",render:r=>D(r).format("ll")},{id:4,title:"Total Amount",dataIndex:"totalAmount",key:"totalAmount",render:r=>r==null?void 0:r.toFixed(2)},{id:7,title:"Paid Amount",dataIndex:"paidAmount",key:"paidAmount",responsive:["md"],render:r=>r.toFixed(2)},{id:9,title:"Re Ordered",dataIndex:"isReOrdered",key:"Re Ordered",width:"120px"},{id:9,title:"Status",dataIndex:"orderStatus",key:"orderStatus",render:r=>e.jsx("span",{className:` rounded px-2 py-[1px] text-ePrimary bg-ePrimary/10 ${r=="PENDING"&&"text-orange-500 bg-orange-500/10"}
                  ${r=="RECEIVED"&&"text-ePrimary bg-ePrimary/10"}
                  ${r=="DELIVERED"&&"text-green-500 bg-green-500/10"}
                  ${r=="CANCELLED"&&"text-red-500 bg-red-500/10"}
                    `,children:r})},{id:10,title:"Action",dataIndex:"id",key:"payment",render:r=>e.jsx("div",{className:"flex ",children:e.jsx(w,{path:`/admin/order/${r}`})})}];return n.useEffect(()=>{i(E(l)),i(A({id:l,query:m}))},[i,l,m]),e.jsx(P,{title:d==null?void 0:d.courierMediumName,extra:e.jsx(q,{permission:"delete-courier",deleteThunk:S,id:l,navigatePath:"/admin/courier-medium",className:"p-2"}),children:e.jsx(C,{permission:"readAll-courier",children:e.jsx(k,{total:u,columns:p,list:t,loading:o,setPageConfig:s,title:"Order list"})})})}function G(){const i=j(),{Title:l}=$,[d]=a.useForm(),[c,t]=n.useState(!1),u=()=>{t(!0)},o=async s=>{(await i(T(s))).payload.message==="success"&&(d.resetFields(),i(M({page:1,count:10,status:"true"}))),t(!1)},m=()=>{t(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(l,{level:4,className:"m-2 text-center",children:"Add Delivery Medium"}),e.jsxs(a,{form:d,layout:"vertical",className:"sm:mx-10",onFinish:o,onFinishFailed:m,autoComplete:"off",labelAlign:"left",children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Courier Medium Name",name:"courierMediumName",className:"w-full",rules:[{required:!0,message:"Please input courier medium name!"}],children:e.jsx(y,{size:"small",placeholder:"Courier medium name"})}),e.jsxs("div",{className:"flex justify-between gap-5",children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Medium Type",name:"type",className:"w-1/2",rules:[{required:!0,message:"Please select medium!"}],children:e.jsxs(h,{placeholder:"Select Type",children:[e.jsx(h.Option,{value:"courier",children:"Courier"},"courier"),e.jsx(h.Option,{value:"deliveryBoy",children:"Delivery Boy"},"deliveryBoy")]})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Phone ",name:"phone",className:"w-1/2",rules:[{required:!0,message:"Please inter phone!"}],children:e.jsx(y,{size:"small",placeholder:"e.g. +99999999"})})]}),e.jsx(a.Item,{style:{marginBottom:"10px"},name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:e.jsx(y,{placeholder:"user@gmail.com"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Address ",name:"address",rules:[{required:!0,message:"Please inter address!"}],children:e.jsx(I,{autoSize:{minRows:2,maxRows:6},size:"small",placeholder:"e.g. Home No / Street / Area"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(b,{loading:c,type:"primary",htmlType:"submit",shape:"round",onClick:u,children:"Create Delivery Medium"})})]})]})})}function W({data:i}){const l=j();g(x=>x.courierMedium);const[d]=a.useForm(),[c,t]=n.useState(!1),[u,o]=n.useState(!1),[m,s]=n.useState({courierMediumName:i.courierMediumName,phone:i.phone,type:i.type,email:i.email,address:i.address}),p=async x=>{t(!0),(await l(O({id:i.id,values:x}))).payload.message=="success"&&(o(!1),t(!1))},r=()=>{t(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{o(!0)},children:[e.jsx(U,{className:" rounded-md"}),"Edit"]}),e.jsxs(z,{title:"Update Courier",open:u,onCancel:()=>o(!1),footer:!1,children:[e.jsx(F,{level:4,className:"m-2 text-center",children:"Add Courier"}),e.jsxs(a,{form:d,layout:"vertical",initialValues:m,className:"sm:mx-10",onFinish:p,onFinishFailed:r,autoComplete:"off",labelAlign:"left",children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Courier Medium Name",name:"courierMediumName",rules:[{required:!0,message:"Please input courier medium name!"}],children:e.jsx(y,{size:"small",placeholder:"pathao"})}),e.jsxs("div",{className:"flex justify-between gap-5",children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Phone ",name:"phone",className:"w-1/2",rules:[{required:!0,message:"Please inter phone!"}],children:e.jsx(L,{size:"small",placeholder:"e.g. +99999999"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Medium Type",name:"type",className:"w-1/2",rules:[{required:!0,message:"Please select medium!"}],children:e.jsxs(h,{placeholder:"Select Type",children:[e.jsx(h.Option,{value:"courier",children:"Courier"},"courier"),e.jsx(h.Option,{value:"deliveryBoy",children:"Delivery Boy"},"deliveryBoy")]})})]}),e.jsx(a.Item,{style:{marginBottom:"10px"},name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:e.jsx(y,{placeholder:"user@gmail.com"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Address ",name:"address",rules:[{required:!0,message:"Please inter address!"}],children:e.jsx(I,{autoSize:{minRows:2,maxRows:6},size:"small",placeholder:"e.g. Home No / Street / Area"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(b,{loading:c,type:"primary",htmlType:"submit",shape:"round",children:"Update Courier"})})]})]})]})}function X(){const i=j(),{list:l,total:d,loading:c}=g(s=>s.courierMedium),[t,u]=n.useState({page:1,count:10,status:"true"}),o=[{id:1,title:"ID",dataIndex:"id",key:"id",render:s=>e.jsx(f,{to:`/admin/courier-medium/${s}`,children:s}),renderCsv:s=>s},{id:2,title:"Courier Medium Name",dataIndex:"courierMediumName",key:"courierMediumName",render:(s,{id:p})=>e.jsx(f,{to:`/admin/courier-medium/${p}`,children:s}),renderCsv:s=>s},{id:3,title:"Type",dataIndex:"type",key:"type"},{id:4,title:"Address",dataIndex:"address",key:"address"},{id:5,title:"Phone",dataIndex:"phone",key:"phone"},{id:6,title:"Email",dataIndex:"email",key:"email"},{id:7,title:"",key:"action",render:s=>[{label:e.jsx(w,{title:"View",path:`/admin/courier-medium/${s.id}`}),key:"view"},{label:e.jsx(C,{permission:"update-courier",children:e.jsx(W,{data:s})}),key:"edit"}],csvOff:!0}],m=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return n.useEffect(()=>{i(M(t))},[i,t]),e.jsx(P,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Delivery Medium",extra:e.jsx(V,{permission:"create-courier",title:"Create Delivery Medium",width:35,children:e.jsx(G,{})}),children:e.jsx(C,{permission:"readAll-courier",children:e.jsx(k,{total:d,columns:o,list:l,loading:c,setPageConfig:u,title:"Delivery Medium list",filters:m,isSearch:!0})})})}function ce(){return e.jsxs(R,{children:[e.jsx(N,{path:"/courier-medium",element:e.jsx(v,{permission:"readAll-courier",children:e.jsx(X,{})})}),e.jsx(N,{path:"/courier-medium/:id",element:e.jsx(v,{permission:"readSingle-courier",children:e.jsx(H,{})})})]})}export{ce as default};
