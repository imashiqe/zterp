import{u as y,F as s,r as c,j as e,I as a,B as f,L as j,C as w,ce as u,e8 as C}from"./index-16ff5701.js";import"./TableComponent-f70e0475.js";import{U as b}from"./UploadMany-ab6f4635.js";import{A}from"./index-1b45a375.js";import{T as I}from"./index-1ab3c210.js";const v=({drawer:N})=>{const m=y(),{Title:l}=I,[n]=s.useForm(),[d,t]=c.useState(!1),[p,r]=c.useState(!1),o=window.location.href.includes("admin"),h=async x=>{var i;t(!0);try{((i=(await m(C(x))).payload)==null?void 0:i.message)==="success"&&(r(!0),n.resetFields(),m(u({page:1,count:10,status:!0})),o!==!0?setTimeout(()=>{window.location.href="/customer/login",r(!1),t(!1)},5e3):r(!1)),t(!1)}catch{t(!1)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:o!==!0?" mt-[5rem]":"",children:[p&&e.jsx(A,{message:"We have sent you an email with password .",description:"Please check your email and login to your account.",type:"success",showIcon:!0}),e.jsx(l,{level:4,className:"m-2 text-center",children:"Register Now"}),e.jsxs(s,{form:n,name:"basic",layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},initialValues:{remember:!0},onFinish:h,autoComplete:"off",children:[e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Username",name:"username",rules:[{required:!0,message:"Please input  name!"}],children:e.jsx(a,{})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Email",name:"email",rules:[{required:!0,message:"Please input  email!"}],children:e.jsx(a,{type:"email"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Phone",name:"phone",rules:[{required:!0,message:"Please input Phone!"}],children:e.jsx(a,{})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Address",name:"address",children:e.jsx(a,{})}),e.jsx(s.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:e.jsx(f,{loading:d,type:"primary",htmlType:"submit",shape:"round",children:"Create Customer"})})]}),!o&&e.jsxs(l,{className:"mt-5 mb-5 text-center text-base",children:["Already have an account? ",e.jsx(j,{to:"/customer/login",children:"Login Now"})]}),e.jsx(w,{className:"mt-5",title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),children:e.jsx(b,{urlPath:"customer",demoData:[["username","email","phone","address"],["custreomer 1","customer1@gmail.com","01708888842","everywhere"],["custreomer 2","customer2@gmail.com","01708888843","everywhere"],["custreomer 3","customer3@gmail.com","01708888844","everywhere"]],loadAllThunk:u,query:{page:1,count:10,status:!0},title:"Demo Customer"})})]})})},q=v;export{q as A};
