import{b as x,u as C,F as a,r as c,bj as f,j as e,I as j,B as S,C as b,bf as I,cu as F}from"./index-16ff5701.js";import{U as P}from"./UploadMany-ab6f4635.js";import{B as w}from"./BigDrawer-5db64386.js";import{A}from"./addProductCategory-004b5cd6.js";import{S as d}from"./Button-81cb4f36.js";import{T as B}from"./index-1ab3c210.js";const L=({drawer:N})=>{const s=x(t=>{var r;return(r=t.productCategories)==null?void 0:r.list}),o=C(),{Title:u}=B,[n]=a.useForm(),[m,l]=c.useState(!1),p=()=>{l(!0)},[g,i]=c.useState(null),y=t=>{i(t)},h=async t=>{try{(await o(F({...t,productCategoryId:g}))).payload.message==="success"?(l(!1),n.resetFields(),i(null)):l(!1)}catch{}};return c.useEffect(()=>{o(f({page:1,count:100}))},[o]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsxs(a,{form:n,layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0},onFinish:h,autoComplete:"off",children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input category name!"}],children:e.jsx(j,{})}),e.jsx(a.Item,{style:{marginBottom:"15px"},name:"productCategoryId",label:e.jsxs(e.Fragment,{children:["Select Category",e.jsx(w,{title:"new Category",children:e.jsx(A,{drawer:!0})})]}),rules:[{required:!0,message:"Please select category!"}],children:e.jsx(d,{onSelect:y,name:"productCategoryId",loading:!s,showSearch:!0,placeholder:"Select Category",optionFilterProp:"children",filterOption:(t,r)=>r.children.includes(t),filterSort:(t,r)=>t.children.toLowerCase().localeCompare(r.children.toLowerCase()),children:s&&s.map(t=>e.jsx(d.Option,{value:t.id,children:t.name},t.id))})}),e.jsx(a.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(S,{onClick:p,loading:m,type:"primary",htmlType:"submit",shape:"round",children:"Create Subcategory"})})]}),e.jsxs(b,{title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),className:"mt-5",children:[e.jsx(u,{level:4,className:"m-2 text-center",children:"Import From CSV"}),e.jsx(P,{title:"Demo Product SubCategory",demoData:[["name","productCategoryId"],["SubCategory1","1"],["SubCategory2","2"],["SubCategory3","3"]],urlPath:"product-sub-category",loadAllThunk:I,query:{page:1,count:10,status:!0}})]})]})})};export{L as A};
