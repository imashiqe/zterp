import{u as g,F as d,r,b as u,j as e,C,I as b,B as v,bJ as V,bK as k,bL as f,k as h,bM as I,bN as w,x as F,y as M}from"./index-16ff5701.js";import{P as N}from"./AdminLayout-ac80ae52.js";import{C as P,U as j,T as S}from"./TableComponent-f70e0475.js";import{C as A}from"./CommonDelete-6a643bdc.js";import{C as D}from"./CreateDrawer-33537b52.js";import{I as E}from"./index-6d01e873.js";import{A as Y}from"./addVatTax-d5f3f099.js";import{M as B}from"./index-2e4f1652.js";import{E as U}from"./EditOutlined-f754bc7b.js";import"./Button-81cb4f36.js";import"./index-8b1cef28.js";import"./useForceUpdate-5b1eefe7.js";import"./DeleteOutlined-e1f8fe69.js";import"./index-1ab3c210.js";import"./InfoCircleFilled-829db91a.js";import"./fade-f955b557.js";const L=({handleCancel:a})=>{const c=g(),[l]=d.useForm(),[x,n]=r.useState(!1),{edit:s}=u(i=>i.vatTax),o=async i=>{await c(V({id:s.id,values:i})),a(),n(!1)},p=()=>{n(!1)};return r.useEffect(()=>{l.setFieldValue("title",s.title),l.setFieldValue("percentage",s.percentage)},[s]),e.jsx(r.Fragment,{children:e.jsx(C,{bordered:!1,className:"h-full",children:e.jsxs(d,{form:l,layout:"vertical",onFinish:o,onFinishFailed:p,children:[e.jsx(d.Item,{style:{marginBottom:"10px"},label:"Title",name:"title",rules:[{required:!0,message:"Please enter vat/tax type name!"}],children:e.jsx(b,{})}),e.jsx(d.Item,{style:{marginBottom:"10px"},label:"Percentage",name:"percentage",rules:[{required:!0,message:"Please enter vat/tax percentage name!"}],children:e.jsx(E,{className:"w-full"})}),e.jsx(d.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:e.jsx(v,{type:"primary",htmlType:"submit",shape:"round",loading:x,onClick:()=>n(!0),children:"Update Vat/Tax Type"})})]})})})},O=()=>{const a=g(),{list:c,total:l,loading:x}=u(t=>t.vatTax);u(t=>t.vatTax.statement);const[n,s]=r.useState(!1),[o,p]=r.useState({page:1,count:10,status:"true"}),i=()=>{s(!0)},m=()=>{s(!1)},y=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Title",dataIndex:"title",key:"title"},{id:3,title:"Percentage",dataIndex:"percentage",key:"percentage",render:t=>`${t}%`,renderCsv:t=>`${t}%`},{id:3,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>h(t).format("YYYY-MM-DD"),renderCsv:t=>h(t).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:t=>[{label:e.jsx(j,{permission:"update-vat",children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{a(I(t)),i()},children:[e.jsx(U,{className:"bg-gray-600 p-1 text-white rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(A,{permission:"delete-vat",deleteThunk:w,values:{id:t==null?void 0:t.id,status:t==null?void 0:t.status},title:(t==null?void 0:t.status)==="true"?"Hide":"Show",loadThunk:f,query:{...o,status:t==null?void 0:t.status}}),key:"delete"}],csvOff:!0}],T=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return r.useEffect(()=>{a(k())},[a]),r.useEffect(()=>{a(f(o))},[a,o]),e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Vat tax List",extra:e.jsx(D,{permission:"create-vat",title:"Create Vat Type",width:35,children:e.jsx(Y,{})}),children:e.jsx(j,{permission:"readAll-vat",children:e.jsx(S,{total:l,columns:y,list:c,loading:x,setPageConfig:p,title:"Vat Tax List",filters:T,isSearch:!0})})}),e.jsx(B,{title:"Update vat/tax type",open:n,onCancel:m,footer:!1,children:e.jsx(L,{handleCancel:m})})]})},R=()=>e.jsx(e.Fragment,{children:e.jsx(O,{})}),$=R;function le(){return e.jsx(F,{children:e.jsx(M,{path:"/vat-tax",exact:!0,element:e.jsx(N,{permission:"create-vat",children:e.jsx($,{})})})})}export{le as default};
