import{F as r,u as F,r as o,b as m,s as c,fw as P,j as e,a0 as B,a1 as L,C as S,I as n,B as q,a2 as U,a3 as w}from"./index-16ff5701.js";import{R as E}from"./index-4f6b3efe.js";import{U as k,f as A}from"./fileConfig-a4db431d.js";import{L as D}from"./AdminLayout-ac80ae52.js";import{S as u}from"./Button-81cb4f36.js";import{U as R}from"./index-0daf2765.js";import{T as _}from"./index-1ab3c210.js";import"./useForceUpdate-5b1eefe7.js";import"./DeleteOutlined-e1f8fe69.js";import"./fade-f955b557.js";import"./EditOutlined-f754bc7b.js";const Z=()=>{const{Title:x}=_,[g]=r.useForm(),t=F(),[i,h]=o.useState([]),[y,f]=o.useState(""),l=m(a=>{var s;return(s=a==null?void 0:a.setting)==null?void 0:s.data})||null,{list:d,loading:p}=m(a=>a==null?void 0:a.currency)||null,b=m(a=>{var s;return(s=a==null?void 0:a.setting)==null?void 0:s.loading})||!1,j=async a=>{console.log(a);try{const s=new FormData;s.append("companyName",a.companyName),a.dashboardType&&s.append("dashboardType",a.dashboardType),s.append("tagLine",a.tagLine),s.append("address",a.address),s.append("phone",a.phone),s.append("email",a.email),s.append("website",a.website),s.append("footer",a.footer),s.append("currencyId",a.currencyId),i.length&&A()==="laravel"&&s.append("images[]",i[0].originFileObj),s.append("_method","PUT"),(await t(U(s))).payload.message==="success"&&(w.success("Company Updated Successfully"),t(c()))}catch{}};o.useEffect(()=>{l==null&&t(c()),t(P())},[t,l]);const C=({fileList:a})=>{h(a)},I=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],N={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],["link","image"],[{color:[]},{background:[]}],["clean"]]},T=a=>{f(a)};return e.jsx(o.Fragment,{children:e.jsx(B,{className:"mr-top",justify:"center",children:e.jsx(L,{xs:24,sm:24,md:24,lg:16,xl:16,className:"border rounded column-design",children:e.jsxs(S,{bordered:!1,children:[e.jsx(x,{level:4,className:"m-2 text-center mb-4",children:"Company Setting"}),l?e.jsxs(r,{initialValues:{...l},form:g,name:"basic",labelCol:{span:7},labelWrap:!0,wrapperCol:{span:16},onFinish:j,autoComplete:"off",children:[e.jsx(r.Item,{style:{marginBottom:"10px"},fields:[{name:"Company Name"}],label:"Company Name",name:"companyName",rules:[{required:!0,message:"Please input Company name!"}],children:e.jsx(n,{})}),e.jsx(r.Item,{style:{marginBottom:"10px"},fields:[{name:"Tagline"}],label:"Tagline",name:"tagLine",rules:[{required:!0,message:"Please input Tagline!"}],children:e.jsx(n,{})}),e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Address",name:"address",rules:[{required:!0,message:"Please input Address!"}],children:e.jsx(n,{})}),e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Phone Number",name:"phone",rules:[{required:!0,message:"Please input Phone Number!"}],children:e.jsx(n,{})}),e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Email Address",name:"email",rules:[{required:!0,message:"Please input Email Address!"}],children:e.jsx(n,{})}),e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Currency",name:"currencyId",rules:[{required:!0,message:"Please input Currency!"}],children:e.jsx(u,{label:"Currency",name:"currencyId",loading:p,children:d==null?void 0:d.map((a,s)=>e.jsxs(u.Option,{value:a.id,children:[e.jsx("span",{dangerouslySetInnerHTML:{__html:a.currencySymbol}})," ","Â ",e.jsx("span",{children:a.currencyName})]},a.id))})}),e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Website",name:"website",rules:[{required:!0,message:"Please input Website!"}],children:e.jsx(n,{})}),e.jsxs(r.Item,{label:"Upload Logo",valuePropName:"fileList",children:[e.jsx(R,{listType:"picture-card",beforeUpload:()=>!1,name:"image",fileList:i,maxCount:1,onChange:C,children:e.jsxs("div",{children:[e.jsx(k,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]})}),e.jsx("p",{className:"font-semibold text-rose-500",children:"Required image size 180x70 px & transparent png format"})]}),e.jsx(r.Item,{style:{marginBottom:"40px"},label:"Footer",name:"footer",className:"z-30",rules:[{required:!0,message:"Please input Footer!"}],children:e.jsx(E,{value:y,onChange:T,modules:N,formats:I})}),e.jsx(r.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(q,{type:"primary",disabled:p,htmlType:"submit",shape:"round",loading:b,children:"Update Details"})})]}):e.jsx(D,{})]})})})})};export{Z as default};
