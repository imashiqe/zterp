import{u as h,F as o,r as l,b as x,d3 as f,j as s,I as y,B as A,ea as j,c1 as g}from"./index-16ff5701.js";import{S as i}from"./Button-81cb4f36.js";import{T as b}from"./index-1ab3c210.js";const F=({drawer:w})=>{const r=h(),{Title:d}=b,[n]=o.useForm(),[u,a]=l.useState(!1),c=x(e=>{var t;return(t=e==null?void 0:e.accounts)==null?void 0:t.mainAccount})||null;l.useEffect(()=>{r(f())},[r]);const m=async e=>{try{(await r(j(e))).payload.message==="success"&&(a(!1),r(g())),n.resetFields(),a(!1)}catch{a(!1)}},p=e=>{a(!1)};return s.jsx("div",{children:s.jsxs("div",{children:[s.jsx(d,{level:4,className:"m-2 text-center",children:"Add Account"}),s.jsxs(o,{form:n,name:"basic",layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0},onFinish:m,onFinishFailed:p,autoComplete:"off",children:[s.jsx(o.Item,{style:{marginBottom:"10px"},name:"name",label:"Name",rules:[{required:!0,message:"Please input debit account!"}],children:s.jsx(y,{placeholder:"Name"})}),s.jsx(o.Item,{style:{marginBottom:"10px"},name:"accountId",label:"Account Type",rules:[{required:!0,message:"Please input debit account!"}],children:s.jsx(i,{loading:!c,showSearch:!0,style:{width:"100%"},placeholder:"Select Account Type",optionFilterProp:"children",filterOption:(e,t)=>t.children.includes(e),filterSort:(e,t)=>e.children.toLowerCase().localeCompare(t.children.toLowerCase()),children:c&&c.map(e=>s.jsx(i.Option,{value:e.id,children:e.name},e.id))})}),s.jsx(o.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:s.jsx(A,{type:"primary",htmlType:"submit",shape:"round",loading:u,onClick:()=>a(!0),children:"Add New Account"})})]})]})})},T=F;export{T as A};
